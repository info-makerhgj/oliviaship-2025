# ğŸš€ Ø¯Ù„ÙŠÙ„ Ù†Ù‚Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¥Ù„Ù‰ AWS Lightsail (Bahrain)

## ğŸ¯ Ù„Ù…Ø§Ø°Ø§ AWS Lightsail BahrainØŸ

### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:
- âœ… **Ø§Ù„Ø£Ù‚Ø±Ø¨ Ù„Ù„ÙŠÙ…Ù†** (Bahrain - Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†)
- âœ… **Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹** (50-200ms Ù…Ù† Ø§Ù„ÙŠÙ…Ù†)
- âœ… **Ø±Ø®ÙŠØµ** ($3.50/Ø´Ù‡Ø± ÙÙ‚Ø·)
- âœ… **Always-on** (Ù„Ø§ ÙŠÙ†Ø§Ù… Ø£Ø¨Ø¯Ø§Ù‹)
- âœ… **Ù†ÙØ³ Ø§Ù„ÙƒÙˆØ¯** (Node.js + MongoDB)
- âœ… **Full control** (ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„)

### Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©:
| Ø§Ù„Ù…Ù†ØµØ© | Ø§Ù„Ù…Ù†Ø·Ù‚Ø© | Ø§Ù„Ø³Ø±Ø¹Ø© Ù…Ù† Ø§Ù„ÙŠÙ…Ù† | Ø§Ù„Ø³Ø¹Ø± |
|--------|---------|-----------------|-------|
| **AWS Lightsail** | **Bahrain** | **50-200ms** âš¡âš¡âš¡âš¡âš¡ | **$3.50** |
| Railway | US/EU | 2000-5000ms | $5 |
| Render | Singapore | 500-1000ms | $7 |

---

## ğŸ“‹ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª:

1. âœ… Ø­Ø³Ø§Ø¨ AWS (Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„ØªØ³Ø¬ÙŠÙ„)
2. âœ… Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù† (Ù„Ù„ØªÙØ¹ÙŠÙ„ ÙÙ‚Ø·ØŒ Ù„Ù† ÙŠÙØ®ØµÙ… Ø¥Ù„Ø§ $3.50/Ø´Ù‡Ø±)
3. âœ… 30 Ø¯Ù‚ÙŠÙ‚Ø© Ù…Ù† ÙˆÙ‚ØªÙƒ

---

## ğŸ”§ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©:

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ AWS

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://aws.amazon.com/
2. Ø§Ø¶ØºØ· "Create an AWS Account"
3. Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
   - Email
   - Password
   - Account name
4. Ø£Ø¯Ø®Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹ (Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†)
   - Ù„Ù† ÙŠÙØ®ØµÙ… Ø¥Ù„Ø§ $3.50/Ø´Ù‡Ø±
   - AWS Free Tier Ù…ØªØ§Ø­ Ù„Ù€ 12 Ø´Ù‡Ø±
5. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡Ø§ØªÙ
6. Ø§Ø®ØªØ± "Basic Support Plan" (Ù…Ø¬Ø§Ù†ÙŠ)

---

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ù†Ø´Ø§Ø¡ Lightsail Instance

1. Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰:
   https://lightsail.aws.amazon.com/

2. Ø§Ø¶ØºØ· "Create instance"

3. **Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:**
   - Instance location: **Bahrain (me-south-1)**
   - âš ï¸ Ù…Ù‡Ù… Ø¬Ø¯Ø§Ù‹: Ø§Ø®ØªØ± Bahrain Ù„Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚ØµÙˆÙ‰!

4. **Ø§Ø®ØªØ± Platform:**
   - Select a platform: **Linux/Unix**

5. **Ø§Ø®ØªØ± Blueprint:**
   - Select a blueprint: **Node.js**
   - Ø£Ùˆ Ø§Ø®ØªØ± "OS Only" â†’ Ubuntu 22.04 LTS

6. **Ø§Ø®ØªØ± Ø§Ù„Ø®Ø·Ø©:**
   - $3.50/month:
     - 512 MB RAM
     - 1 vCPU
     - 20 GB SSD
     - 1 TB Transfer
   - âœ… ÙƒØ§ÙÙŠ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹

7. **Ø§Ø³Ù… Instance:**
   - Name: `oliviaship-backend`

8. Ø§Ø¶ØºØ· **"Create instance"**

9. Ø§Ù†ØªØ¸Ø± 2-3 Ø¯Ù‚Ø§Ø¦Ù‚ Ø­ØªÙ‰ ÙŠØµØ¨Ø­ "Running"

---

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù€ Instance

#### 3.1 Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù€ Instance

1. ÙÙŠ Lightsail DashboardØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Instance
2. Ø§Ø¶ØºØ· "Connect using SSH"
3. Ø³ØªÙØªØ­ Ù†Ø§ÙØ°Ø© Terminal

#### 3.2 ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…

\`\`\`bash
# ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…
sudo apt update && sudo apt upgrade -y

# ØªØ«Ø¨ÙŠØª Node.js 20
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø³Ø®Ø©
node --version  # ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† v20.x
npm --version   # ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† v10.x

# ØªØ«Ø¨ÙŠØª PM2 (Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚)
sudo npm install -g pm2

# ØªØ«Ø¨ÙŠØª Git
sudo apt install -y git
\`\`\`

#### 3.3 Ø±ÙØ¹ Ø§Ù„ÙƒÙˆØ¯

**Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Ù…Ù† GitHub (Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§)**

\`\`\`bash
# Clone Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
cd /home/ubuntu
git clone https://github.com/info-makerhgj/oliviaship-2025.git
cd oliviaship-2025

# ØªØ«Ø¨ÙŠØª Dependencies
npm install

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù .env
nano .env
\`\`\`

**Ù…Ø­ØªÙˆÙ‰ Ù…Ù„Ù .env:**
\`\`\`env
# MongoDB (Ø§Ø³ØªØ®Ø¯Ù… MongoDB Atlas)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/oliviaship

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Server
PORT=5000
NODE_ENV=production

# Frontend URL (Vercel)
FRONTEND_URL=https://oliviaship-2025-olivia-ships-projects.vercel.app

# Email (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password

# Stripe (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
\`\`\`

Ø§Ø¶ØºØ· `Ctrl+X` Ø«Ù… `Y` Ø«Ù… `Enter` Ù„Ù„Ø­ÙØ¸

#### 3.4 ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

\`\`\`bash
# ØªØ´ØºÙŠÙ„ Ø¨Ù€ PM2
pm2 start server/index.js --name oliviaship

# Ø­ÙØ¸ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„ÙŠØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
pm2 save
pm2 startup

# ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø©
pm2 status
pm2 logs oliviaship
\`\`\`

---

### Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø¥Ø¹Ø¯Ø§Ø¯ Firewall

1. ÙÙŠ Lightsail Dashboard
2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ "Networking" tab
3. ÙÙŠ "Firewall" sectionØŒ Ø£Ø¶Ù:
   - Application: Custom
   - Protocol: TCP
   - Port: 5000
   - Ø§Ø¶ØºØ· "Create"

---

### Ø§Ù„Ø®Ø·ÙˆØ© 5: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP Address

1. ÙÙŠ Lightsail Dashboard
2. Ø§Ù†Ø³Ø® "Public IP" (Ù…Ø«Ø§Ù„: 15.185.xxx.xxx)
3. Ø¬Ø±Ø¨ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­:
   \`\`\`
   http://15.185.xxx.xxx:5000/api/health
   \`\`\`
4. ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ù‰: \`{"status":"ok"}\`

---

### Ø§Ù„Ø®Ø·ÙˆØ© 6: Ø¥Ø¹Ø¯Ø§Ø¯ Domain (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

#### 6.1 Ø¥Ù†Ø´Ø§Ø¡ Static IP

1. ÙÙŠ Lightsail Dashboard
2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ "Networking" tab
3. Ø§Ø¶ØºØ· "Create static IP"
4. Ø§Ø®ØªØ± Instance: oliviaship-backend
5. Name: oliviaship-ip
6. Ø§Ø¶ØºØ· "Create"

#### 6.2 Ø±Ø¨Ø· Domain

Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ù†Ø¯Ùƒ domain (Ù…Ø«Ù„: api.oliviaship.com):

1. ÙÙŠ LightsailØŒ Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ "Domains & DNS"
2. Ø§Ø¶ØºØ· "Create DNS zone"
3. Ø£Ø¯Ø®Ù„ domain Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
4. Ø£Ø¶Ù A Record:
   - Subdomain: api
   - Resolves to: Ø§Ø®ØªØ± Static IP
5. ÙÙŠ Ù…Ø²ÙˆØ¯ Ø§Ù„Ù€ Domain (Namecheap, GoDaddy, etc.)
   - Ø£Ø¶Ù Nameservers Ù…Ù† Lightsail

---

### Ø§Ù„Ø®Ø·ÙˆØ© 7: Ø¥Ø¹Ø¯Ø§Ø¯ SSL (HTTPS)

\`\`\`bash
# ØªØ«Ø¨ÙŠØª Nginx
sudo apt install -y nginx

# ØªØ«Ø¨ÙŠØª Certbot
sudo apt install -y certbot python3-certbot-nginx

# Ø¥Ø¹Ø¯Ø§Ø¯ Nginx
sudo nano /etc/nginx/sites-available/oliviaship
\`\`\`

**Ù…Ø­ØªÙˆÙ‰ Ù…Ù„Ù Nginx:**
\`\`\`nginx
server {
    listen 80;
    server_name api.oliviaship.com;  # ØºÙŠØ± Ù‡Ø°Ø§ Ù„Ù€ domain Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
\`\`\`

\`\`\`bash
# ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹
sudo ln -s /etc/nginx/sites-available/oliviaship /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ SSL Certificate
sudo certbot --nginx -d api.oliviaship.com

# ØªØ¬Ø¯ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ
sudo certbot renew --dry-run
\`\`\`

---

### Ø§Ù„Ø®Ø·ÙˆØ© 8: ØªØ­Ø¯ÙŠØ« Frontend (Vercel)

ÙÙŠ Ù…Ø´Ø±ÙˆØ¹ FrontendØŒ Ø­Ø¯Ø« Ù…Ù„Ù `.env`:

\`\`\`env
# Ù‚Ø¨Ù„
VITE_API_URL=https://oliviaship-production.up.railway.app/api

# Ø¨Ø¹Ø¯
VITE_API_URL=https://api.oliviaship.com/api
# Ø£Ùˆ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø¹Ù†Ø¯Ùƒ domain:
VITE_API_URL=http://15.185.xxx.xxx:5000/api
\`\`\`

Ø«Ù…:
\`\`\`bash
git add .
git commit -m "Update API URL to AWS Lightsail"
git push origin main
\`\`\`

Vercel Ø³ÙŠÙ†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø®Ù„Ø§Ù„ Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ†.

---

## ğŸ¯ MongoDB Atlas (Mumbai)

Ù„Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ù‚ØµÙˆÙ‰ØŒ Ø§Ø³ØªØ®Ø¯Ù… MongoDB Atlas ÙÙŠ Mumbai (Ù‚Ø±ÙŠØ¨ Ù…Ù† Bahrain):

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://www.mongodb.com/cloud/atlas
2. Ø³Ø¬Ù„ Ø­Ø³Ø§Ø¨ Ù…Ø¬Ø§Ù†ÙŠ
3. Create Cluster:
   - Provider: AWS
   - Region: **Mumbai (ap-south-1)**
   - Tier: M0 (Free)
4. Create Database User
5. Whitelist IP: 0.0.0.0/0 (Ù„Ù„Ø³Ù…Ø§Ø­ Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù†)
6. Get Connection String
7. Ø¶Ø¹Ù‡ ÙÙŠ `.env` Ø¹Ù„Ù‰ Lightsail

---

## ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:

### Ù‚Ø¨Ù„ (Railway):
\`\`\`
API Response Time: 2000-5000ms â³
Location: US/EU (Ø¨Ø¹ÙŠØ¯ Ø¬Ø¯Ø§Ù‹)
Uptime: 99% (ÙŠÙ†Ø§Ù… Ø£Ø­ÙŠØ§Ù†Ø§Ù‹)
\`\`\`

### Ø¨Ø¹Ø¯ (Lightsail Bahrain):
\`\`\`
API Response Time: 50-200ms âš¡âš¡âš¡âš¡âš¡
Location: Bahrain (Ù‚Ø±ÙŠØ¨ Ø¬Ø¯Ø§Ù‹ Ù…Ù† Ø§Ù„ÙŠÙ…Ù†)
Uptime: 99.99% (Always-on)
\`\`\`

**Ø§Ù„ØªØ­Ø³Ù†: 95%!**

---

## ğŸ”§ Ø£ÙˆØ§Ù…Ø± Ù…ÙÙŠØ¯Ø©:

\`\`\`bash
# Ø¹Ø±Ø¶ logs
pm2 logs oliviaship

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„
pm2 restart oliviaship

# Ø¥ÙŠÙ‚Ø§Ù
pm2 stop oliviaship

# Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
pm2 status

# ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙˆØ¯
cd /home/ubuntu/oliviaship-2025
git pull
npm install
pm2 restart oliviaship

# Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
pm2 monit
\`\`\`

---

## ğŸ’° Ø§Ù„ØªÙƒÙ„ÙØ©:

\`\`\`
AWS Lightsail: $3.50/month
MongoDB Atlas: $0 (Free Tier)
Domain (Ø§Ø®ØªÙŠØ§Ø±ÙŠ): $10/year
SSL Certificate: $0 (Let's Encrypt Ù…Ø¬Ø§Ù†ÙŠ)

Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: $3.50/month = $42/year
\`\`\`

---

## ğŸŠ Ø§Ù„Ø®Ù„Ø§ØµØ©:

Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ù‚Ù„ Ø¥Ù„Ù‰ AWS Lightsail Bahrain:
- âœ… Ø§Ù„Ø³Ø±Ø¹Ø©: Ù…Ù† 5 Ø«ÙˆØ§Ù†ÙŠ Ø¥Ù„Ù‰ 0.2 Ø«Ø§Ù†ÙŠØ© (ØªØ­Ø³Ù† 96%)
- âœ… Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ù‚Ø±ÙŠØ¨ Ø¬Ø¯Ø§Ù‹ Ù…Ù† Ø§Ù„ÙŠÙ…Ù†
- âœ… Ø§Ù„ØªÙƒÙ„ÙØ©: $3.50/Ø´Ù‡Ø± ÙÙ‚Ø·
- âœ… Always-on: Ù„Ø§ ÙŠÙ†Ø§Ù… Ø£Ø¨Ø¯Ø§Ù‹
- âœ… Full control: ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„

**Ù…ÙˆÙ‚Ø¹Ùƒ Ø³ÙŠÙƒÙˆÙ† Ø£Ø³Ø±Ø¹ Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„ÙŠÙ…Ù†! ğŸš€**

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù…:

Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø£ÙŠ Ù…Ø´ÙƒÙ„Ø©:
1. ØªØ­Ù‚Ù‚ Ù…Ù† logs: \`pm2 logs oliviaship\`
2. ØªØ­Ù‚Ù‚ Ù…Ù† Firewall: Port 5000 Ù…ÙØªÙˆØ­ØŸ
3. ØªØ­Ù‚Ù‚ Ù…Ù† MongoDB: Ø§Ù„Ø§ØªØµØ§Ù„ ÙŠØ¹Ù…Ù„ØŸ
4. ØªØ­Ù‚Ù‚ Ù…Ù† .env: ÙƒÙ„ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ØµØ­ÙŠØ­Ø©ØŸ

---

## ğŸš€ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡ØŸ

Ø§ØªØ¨Ø¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø£Ø¹Ù„Ø§Ù‡ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©ØŒ ÙˆØ³Ø£ÙƒÙˆÙ† Ù…Ø¹Ùƒ ÙÙŠ ÙƒÙ„ Ø®Ø·ÙˆØ©!
