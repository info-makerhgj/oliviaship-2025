var e=Object.defineProperty,s=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(s,r,a)=>r in s?e(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a,c=(e,s)=>{for(var r in s||(s={}))m.call(s,r)&&t(e,r,s[r]);if(a)for(var r of a(s))o.call(s,r)&&t(e,r,s[r]);return e},l=(e,a)=>s(e,r(a));import{o as i,S as d,j as n,d as u,b,T as N,n as x,F as h}from"./index-Dfjzp2DE.js";import{r as D,L as p}from"./react-vendor-DBmefE3i.js";import{g,a as j,f}from"./helpers-B6CJClH3.js";import"./icons-DYE8NDaX.js";import"./utils-CZ_YNEkO.js";function v(){const[e,s]=D.useState({}),[r,a]=D.useState([]),[m,o]=D.useState(!0);D.useEffect(()=>{t()},[]);const t=()=>{return e=this,r=null,m=function*(){try{const[e,r]=yield Promise.all([i.getAll({limit:10}).catch(()=>({data:{orders:[]}})),d.getAll().catch(()=>({data:{orders:[]}}))]),m=[...(e.data.orders||[]).map(e=>l(c({},e),{type:"regular"})),...(r.data.orders||[]).map(e=>l(c({},e),{type:"smartCart"}))].sort((e,s)=>new Date(s.createdAt)-new Date(e.createdAt)).slice(0,5);a(m),s({total:m.length,pending:m.filter(e=>"pending"===e.status).length,processing:m.filter(e=>["processing","purchased","shipped"].includes(e.status)).length,delivered:m.filter(e=>"delivered"===e.status).length})}catch(e){}finally{o(!1)}},new Promise((s,a)=>{var o=e=>{try{c(m.next(e))}catch(s){a(s)}},t=e=>{try{c(m.throw(e))}catch(s){a(s)}},c=e=>e.done?s(e.value):Promise.resolve(e.value).then(o,t);c((m=m.apply(e,r)).next())});var e,r,m};return m?n.jsxDEV("div",{className:"flex items-center justify-center py-20",children:n.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:51,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:50,columnNumber:7},this):n.jsxDEV("div",{children:[n.jsxDEV("div",{className:"mb-6",children:[n.jsxDEV("h1",{className:"text-xl font-bold mb-2 text-gradient",children:"مرحباً بك!"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:60,columnNumber:9},this),n.jsxDEV("p",{className:"text-gray-600 text-sm",children:"إليك ملخص طلباتك وإحصائياتك"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:61,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:59,columnNumber:7},this),n.jsxDEV("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[n.jsxDEV("div",{className:"card bg-gradient-to-br from-primary-500 to-primary-700 text-white",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:n.jsxDEV("div",{className:"bg-white bg-opacity-20 p-2 md:p-3 rounded-xl",children:n.jsxDEV(u,{className:"text-xl md:text-2xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:69,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:67,columnNumber:11},this),n.jsxDEV("div",{className:"text-lg md:text-xl font-bold mb-1",children:e.total||0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:72,columnNumber:11},this),n.jsxDEV("div",{className:"text-primary-100 text-xs",children:"إجمالي الطلبات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:73,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:66,columnNumber:9},this),n.jsxDEV("div",{className:"card bg-gradient-to-br from-yellow-400 to-yellow-600 text-white",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:n.jsxDEV("div",{className:"bg-white bg-opacity-20 p-2 md:p-3 rounded-xl",children:n.jsxDEV(b,{className:"text-xl md:text-2xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:79,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:78,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:77,columnNumber:11},this),n.jsxDEV("div",{className:"text-lg md:text-xl font-bold mb-1",children:e.pending||0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:82,columnNumber:11},this),n.jsxDEV("div",{className:"text-yellow-100 text-xs",children:"قيد الانتظار"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:76,columnNumber:9},this),n.jsxDEV("div",{className:"card bg-gradient-to-br from-blue-500 to-blue-700 text-white",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:n.jsxDEV("div",{className:"bg-white bg-opacity-20 p-2 md:p-3 rounded-xl",children:n.jsxDEV(N,{className:"text-xl md:text-2xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:89,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:88,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:87,columnNumber:11},this),n.jsxDEV("div",{className:"text-lg md:text-xl font-bold mb-1",children:e.processing||0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:92,columnNumber:11},this),n.jsxDEV("div",{className:"text-blue-100 text-xs",children:"قيد التنفيذ"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:93,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:86,columnNumber:9},this),n.jsxDEV("div",{className:"card bg-gradient-to-br from-green-500 to-green-700 text-white",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:n.jsxDEV("div",{className:"bg-white bg-opacity-20 p-2 md:p-3 rounded-xl",children:n.jsxDEV(x,{className:"text-xl md:text-2xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:99,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:98,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:97,columnNumber:11},this),n.jsxDEV("div",{className:"text-lg md:text-xl font-bold mb-1",children:e.delivered||0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:102,columnNumber:11},this),n.jsxDEV("div",{className:"text-green-100 text-xs",children:"مكتملة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:96,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:65,columnNumber:7},this),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[n.jsxDEV(p,{to:"/order",className:"card-hover p-6 flex items-center gap-4 group",children:[n.jsxDEV("div",{className:"bg-primary-100 group-hover:bg-primary-200 p-4 rounded-xl transition-colors",children:n.jsxDEV(h,{className:"text-primary-600 text-2xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:114,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:113,columnNumber:11},this),n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("h3",{className:"font-semibold text-sm mb-1",children:"طلب منتج جديد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:117,columnNumber:13},this),n.jsxDEV("p",{className:"text-gray-600 text-xs",children:"اطلب منتجاتك من المتاجر العالمية"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:109,columnNumber:9},this),n.jsxDEV(p,{to:"/dashboard/orders",className:"card-hover p-6 flex items-center gap-4 group",children:[n.jsxDEV("div",{className:"bg-blue-100 group-hover:bg-blue-200 p-4 rounded-xl transition-colors",children:n.jsxDEV(u,{className:"text-blue-600 text-2xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:127,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:126,columnNumber:11},this),n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("h3",{className:"font-semibold text-sm mb-1",children:"عرض جميع الطلبات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:130,columnNumber:13},this),n.jsxDEV("p",{className:"text-gray-600 text-xs",children:"شاهد ومتابع جميع طلباتك"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:129,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:122,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:108,columnNumber:7},this),n.jsxDEV("div",{className:"card",children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[n.jsxDEV("h2",{className:"text-lg font-bold",children:"الطلبات الأخيرة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:139,columnNumber:11},this),n.jsxDEV(p,{to:"/dashboard/orders",className:"text-primary-600 hover:underline text-sm font-medium",children:"عرض الكل"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:140,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:138,columnNumber:9},this),r.length>0?n.jsxDEV("div",{className:"space-y-4",children:r.map(e=>{var s;return n.jsxDEV(p,{to:`/dashboard/orders/${e._id}`,className:"block p-4 border border-gray-200 rounded-xl hover:shadow-lg hover:border-primary-300 transition-all",children:n.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[n.jsxDEV("span",{className:"font-bold text-primary-600",children:["#",e.orderNumber]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:156,columnNumber:23},this),n.jsxDEV("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(e.status)}`,children:g(e.status)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:157,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:155,columnNumber:21},this),n.jsxDEV("p",{className:"text-gray-700 font-medium mb-1 text-sm",children:"smartCart"===e.type?e.products&&e.products.length>0?`${e.products[0].name}${e.products.length>1?` + ${e.products.length-1} منتج آخر`:""}`:"منتجات متعددة":(null==(s=e.product)?void 0:s.name)||"منتج غير محدد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:161,columnNumber:21},this),n.jsxDEV("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("ar-YE",{year:"numeric",month:"long",day:"numeric"})},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:168,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:154,columnNumber:19},this),e.pricing&&n.jsxDEV("div",{className:"text-left sm:text-right",children:n.jsxDEV("p",{className:"text-lg font-bold text-primary-600",children:f(e.pricing.totalInYER,"YER")},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:178,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:177,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:153,columnNumber:17},this)},e._id,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:148,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:146,columnNumber:11},this):n.jsxDEV("div",{className:"text-center py-12",children:[n.jsxDEV(u,{className:"text-6xl text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:189,columnNumber:13},this),n.jsxDEV("p",{className:"text-xl text-gray-600 mb-4",children:"لا توجد طلبات بعد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:190,columnNumber:13},this),n.jsxDEV(p,{to:"/order",className:"btn-primary inline-flex items-center gap-2",children:[n.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:192,columnNumber:15},this),"طلب منتج الآن"]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:191,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:137,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/Dashboard.jsx",lineNumber:57,columnNumber:5},this)}export{v as default};
