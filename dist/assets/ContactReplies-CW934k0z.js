import{k as e,w as s,j as t,f as a,n as r,a7 as c,r as m}from"./index-Dfjzp2DE.js";import{r as l}from"./react-vendor-DBmefE3i.js";import{b as i}from"./helpers-B6CJClH3.js";import"./icons-DYE8NDaX.js";import"./utils-CZ_YNEkO.js";function o(){const{error:o}=e(),[n,u]=l.useState([]),[d,N]=l.useState(!0);l.useEffect(()=>{p()},[]);const p=()=>{return e=this,t=null,a=function*(){try{const e=((yield s.getAll({})).data.messages||[]).filter(e=>"replied"===e.status&&e.replyMessage);u(e)}catch(e){o("فشل تحميل الرسائل")}finally{N(!1)}},new Promise((s,r)=>{var c=e=>{try{l(a.next(e))}catch(s){r(s)}},m=e=>{try{l(a.throw(e))}catch(s){r(s)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(c,m);l((a=a.apply(e,t)).next())});var e,t,a};return d?t.jsxDEV("div",{className:"flex items-center justify-center py-20",children:t.jsxDEV(a,{className:"animate-spin text-xl md:text-2xl text-primary-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:41,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:40,columnNumber:7},this):t.jsxDEV("div",{children:[t.jsxDEV("div",{className:"mb-6",children:[t.jsxDEV("h1",{className:"text-xl font-bold mb-2 text-gradient",children:"ردود على رسائلي"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:50,columnNumber:9},this),t.jsxDEV("p",{className:"text-gray-600 text-sm",children:'عرض ردود فريق الدعم على رسائلك من صفحة "اتصل بنا"'},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:51,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:49,columnNumber:7},this),n.length>0?t.jsxDEV("div",{className:"space-y-4",children:n.map(e=>{var s;return t.jsxDEV("div",{className:"card",children:[t.jsxDEV("div",{className:"mb-4",children:[t.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[t.jsxDEV("h3",{className:"font-bold text-lg",children:e.subject},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:61,columnNumber:19},this),t.jsxDEV("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm font-medium flex items-center gap-1",children:[t.jsxDEV(r,{},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:63,columnNumber:21},this),"تم الرد"]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:62,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:60,columnNumber:17},this),t.jsxDEV("p",{className:"text-sm text-gray-600 mb-4",children:i(e.createdAt)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:67,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:59,columnNumber:15},this),t.jsxDEV("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[t.jsxDEV("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"رسالتك:"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:74,columnNumber:17},this),t.jsxDEV("p",{className:"text-gray-800 whitespace-pre-wrap",children:e.message},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:75,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:73,columnNumber:15},this),e.replyMessage&&t.jsxDEV("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[t.jsxDEV(c,{className:"text-green-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:82,columnNumber:21},this),t.jsxDEV("p",{className:"font-semibold text-green-800",children:"رد فريق الدعم:"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:83,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:81,columnNumber:19},this),(null==(s=e.repliedBy)?void 0:s.name)&&t.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:["بواسطة: ",e.repliedBy.name," - ",i(e.repliedAt)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:86,columnNumber:21},this),t.jsxDEV("div",{className:"bg-white p-3 rounded border border-green-200",children:t.jsxDEV("p",{className:"whitespace-pre-wrap text-gray-900",children:e.replyMessage},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:91,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:90,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:80,columnNumber:17},this)]},e._id,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:58,columnNumber:13},this)})},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:56,columnNumber:9},this):t.jsxDEV("div",{className:"card text-center py-16",children:[t.jsxDEV(m,{className:"text-3xl md:text-4xl text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:100,columnNumber:11},this),t.jsxDEV("p",{className:"text-sm md:text-base text-gray-600 mb-2",children:"لا توجد ردود"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:101,columnNumber:11},this),t.jsxDEV("p",{className:"text-gray-500",children:"لم يتم الرد على أي من رسائلك بعد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ContactReplies.jsx",lineNumber:47,columnNumber:5},this)}export{o as default};
