var e=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,r=(s,l,a)=>l in s?e(s,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[l]=a,o=(e,s)=>{for(var l in s||(s={}))i.call(s,l)&&r(e,l,s[l]);if(a)for(var l of a(s))m.call(s,l)&&r(e,l,s[l]);return e},n=(e,a)=>s(e,l(a)),c=(e,s,l)=>new Promise((a,i)=>{var m=e=>{try{o(l.next(e))}catch(s){i(s)}},r=e=>{try{o(l.throw(e))}catch(s){i(s)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(m,r);o((l=l.apply(e,s)).next())});import{q as t,u as d,ag as u,j as N,l as x,e as b,ac as p,g as h,h as j,J as g,P as D,ae as y,H as v,C as f,d as w,S as C,w as E,B as U,x as R}from"./index-Ctx_GovF.js";import{r as V}from"./react-vendor-DBmefE3i.js";import"./icons-DYE8NDaX.js";import"./utils-CZ_YNEkO.js";const _={super_admin:{label:"مدير النظام الكامل",description:"صلاحيات كاملة على جميع الوظائف",icon:b,color:"bg-purple-100 text-purple-700"},orders_manager:{label:"مدير الطلبات",description:"إدارة الطلبات فقط",icon:h,color:"bg-blue-100 text-blue-700"},users_manager:{label:"مدير المستخدمين",description:"إدارة المستخدمين فقط",icon:f,color:"bg-green-100 text-green-800"},payments_manager:{label:"مدير المدفوعات",description:"إدارة المدفوعات والمحافظ",icon:j,color:"bg-yellow-100 text-yellow-800"},settings_manager:{label:"مدير الإعدادات",description:"إدارة إعدادات المنصة فقط",icon:v,color:"bg-gray-100 text-gray-800"}};function k(){var e;const{error:s,success:l}=t(),{user:a}=d(),[i,m]=V.useState([]),[r,v]=V.useState(!0),[f,k]=V.useState([]),[S,T]=V.useState(""),[O,P]=V.useState(null),[q,z]=V.useState(!1),[F,L]=V.useState(!1),[A,$]=V.useState(!1),[B,H]=V.useState({name:"",email:"",password:"",phone:"",permissionType:"orders_manager"});V.useEffect(()=>{I()},[]),V.useEffect(()=>{J()},[i,S]);const I=()=>c(this,null,function*(){try{const e=((yield u.getAll()).data.users||[]).filter(e=>"admin"===e.role);m(e)}catch(e){s("فشل تحميل قائمة المديرين")}finally{v(!1)}}),J=()=>{let e=[...i];if(S){const s=S.toLowerCase();e=e.filter(e=>{var l,a;return(null==(l=e.name)?void 0:l.toLowerCase().includes(s))||(null==(a=e.email)?void 0:a.toLowerCase().includes(s))})}k(e)},G=(e,a)=>c(this,null,function*(){var i,m;z(!0);try{yield u.updatePermissions(e,{permissionType:a}),yield I(),P(null),l("تم تحديث الصلاحيات بنجاح")}catch(r){s((null==(m=null==(i=r.response)?void 0:i.data)?void 0:m.message)||"فشل تحديث الصلاحيات")}finally{z(!1)}}),K=e=>{var s;return"super_admin"===(null==(s=null==e?void 0:e.permissions)?void 0:s.adminType)},M=e=>{var s,l;const a=null==(s=null==e?void 0:e.permissions)?void 0:s.adminType;return a?(null==(l=_[a])?void 0:l.label)||a:"لا توجد صلاحيات محددة"},Q=e=>{var s,l;const a=null==(s=null==e?void 0:e.permissions)?void 0:s.adminType;return a&&(null==(l=_[a])?void 0:l.color)||"bg-gray-100 text-gray-800"},W=K(a);return r?N.jsxDEV("div",{className:"flex items-center justify-center py-20",children:N.jsxDEV(x,{className:"animate-spin text-xl md:text-2xl text-primary-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:173,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:172,columnNumber:7},this):N.jsxDEV("div",{children:[N.jsxDEV("div",{className:"mb-6",children:[N.jsxDEV("h1",{className:"text-xl font-bold mb-2 text-gradient",children:"إدارة الأدوار والصلاحيات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:182,columnNumber:9},this),N.jsxDEV("p",{className:"text-gray-600 text-sm",children:W?"إدارة صلاحيات المديرين وتخصيص الأدوار":"عرض صلاحيات المديرين (مدير النظام فقط يمكنه التعديل)"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:183,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:181,columnNumber:7},this),!W&&N.jsxDEV("div",{className:"card bg-yellow-50 border-yellow-200 mb-6",children:N.jsxDEV("div",{className:"flex items-center gap-3",children:[N.jsxDEV(b,{className:"text-yellow-600 text-xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:194,columnNumber:13},this),N.jsxDEV("div",{children:[N.jsxDEV("p",{className:"font-semibold text-yellow-800",children:"صلاحيات محدودة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:196,columnNumber:15},this),N.jsxDEV("p",{className:"text-sm text-yellow-700",children:"فقط مدير النظام الكامل يمكنه تعديل الصلاحيات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:197,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:193,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:192,columnNumber:9},this),N.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[N.jsxDEV("div",{className:"card bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:N.jsxDEV("div",{className:"flex items-center justify-between",children:[N.jsxDEV("div",{children:[N.jsxDEV("p",{className:"text-xs text-purple-400 font-medium mb-1",children:"إجمالي المديرين"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:210,columnNumber:15},this),N.jsxDEV("p",{className:"text-xl font-bold text-purple-900",children:i.length},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:209,columnNumber:13},this),N.jsxDEV("div",{className:"bg-purple-200 p-3 rounded-xl",children:N.jsxDEV(p,{className:"text-lg md:text-xl text-purple-400"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:214,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:213,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:208,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:207,columnNumber:9},this),N.jsxDEV("div",{className:"card bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:N.jsxDEV("div",{className:"flex items-center justify-between",children:[N.jsxDEV("div",{children:[N.jsxDEV("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"مدير النظام"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:222,columnNumber:15},this),N.jsxDEV("p",{className:"text-xl font-bold text-blue-900",children:i.filter(e=>K(e)).length},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:223,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:221,columnNumber:13},this),N.jsxDEV("div",{className:"bg-blue-200 p-3 rounded-xl",children:N.jsxDEV(b,{className:"text-lg md:text-xl text-blue-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:228,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:220,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:219,columnNumber:9},this),N.jsxDEV("div",{className:"card bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:N.jsxDEV("div",{className:"flex items-center justify-between",children:[N.jsxDEV("div",{children:[N.jsxDEV("p",{className:"text-xs text-green-700 font-medium mb-1",children:"مديرو الطلبات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:236,columnNumber:15},this),N.jsxDEV("p",{className:"text-xl font-bold text-green-900",children:i.filter(e=>{var s;return"orders_manager"===(null==(s=e.permissions)?void 0:s.adminType)}).length},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:237,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:235,columnNumber:13},this),N.jsxDEV("div",{className:"bg-green-200 p-3 rounded-xl",children:N.jsxDEV(h,{className:"text-lg md:text-xl text-green-700"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:242,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:241,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:234,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:233,columnNumber:9},this),N.jsxDEV("div",{className:"card bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:N.jsxDEV("div",{className:"flex items-center justify-between",children:[N.jsxDEV("div",{children:[N.jsxDEV("p",{className:"text-xs text-yellow-700 font-medium mb-1",children:"مديرو المدفوعات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:250,columnNumber:15},this),N.jsxDEV("p",{className:"text-xl font-bold text-yellow-900",children:i.filter(e=>{var s;return"payments_manager"===(null==(s=e.permissions)?void 0:s.adminType)}).length},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:251,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:249,columnNumber:13},this),N.jsxDEV("div",{className:"bg-yellow-200 p-3 rounded-xl",children:N.jsxDEV(j,{className:"text-lg md:text-xl text-yellow-700"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:256,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:255,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:248,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:247,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:206,columnNumber:7},this),N.jsxDEV("div",{className:"card mb-6",children:N.jsxDEV("div",{className:"flex items-center gap-4",children:[N.jsxDEV("div",{className:"relative flex-1",children:[N.jsxDEV(g,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:266,columnNumber:13},this),N.jsxDEV("input",{type:"text",value:S,onChange:e=>T(e.target.value),placeholder:"ابحث بالاسم أو البريد الإلكتروني...",className:"input-field pr-12 w-full"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:267,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:265,columnNumber:11},this),W&&N.jsxDEV("button",{onClick:()=>L(!0),className:"btn-primary flex items-center gap-2 whitespace-nowrap",children:[N.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:280,columnNumber:15},this),N.jsxDEV("span",{children:"إضافة مدير جديد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:281,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:276,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:264,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:263,columnNumber:7},this),f.length>0?N.jsxDEV("div",{className:"space-y-4",children:f.map(e=>{var s,l;return N.jsxDEV("div",{className:"card",children:N.jsxDEV("div",{className:"flex items-start justify-between",children:[N.jsxDEV("div",{className:"flex items-center gap-4 flex-1",children:[N.jsxDEV("div",{className:"w-14 h-14 bg-primary-100 rounded-full flex items-center justify-center",children:N.jsxDEV("span",{className:"text-primary-600 font-bold text-xl",children:(null==(l=null==(s=e.name)?void 0:s.charAt(0))?void 0:l.toUpperCase())||"?"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:295,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:294,columnNumber:19},this),N.jsxDEV("div",{className:"flex-1",children:[N.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[N.jsxDEV("h3",{className:"font-bold text-lg",children:e.name},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:301,columnNumber:23},this),K(e)&&N.jsxDEV("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded-full font-medium",children:"مدير النظام"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:303,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:300,columnNumber:21},this),N.jsxDEV("p",{className:"text-sm text-gray-600 mb-2",children:e.email},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:308,columnNumber:21},this),N.jsxDEV("div",{className:"flex items-center gap-2",children:N.jsxDEV("span",{className:`px-3 py-1 rounded-lg text-sm font-medium ${Q(e)}`,children:M(e)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:310,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:309,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:299,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:293,columnNumber:17},this),W&&N.jsxDEV("div",{className:"relative",children:[N.jsxDEV("button",{onClick:()=>P(O===e._id?null:e._id),disabled:q,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:N.jsxDEV(y,{},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:324,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:319,columnNumber:21},this),O===e._id&&N.jsxDEV(N.Fragment,{children:[N.jsxDEV("div",{className:"fixed inset-0 z-10",onClick:()=>P(null)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:329,columnNumber:25},this),N.jsxDEV("div",{className:"absolute left-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[280px]",children:N.jsxDEV("div",{className:"p-2",children:[N.jsxDEV("p",{className:"text-sm font-semibold text-gray-700 mb-2 px-2",children:"اختر نوع الصلاحيات:"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:335,columnNumber:29},this),Object.entries(_).map(([s,l])=>{var a;const i=l.icon,m=(null==(a=e.permissions)?void 0:a.adminType)===s;return N.jsxDEV("button",{onClick:()=>{m||G(e._id,s)},disabled:q||m,className:`w-full text-right px-4 py-3 hover:bg-gray-50 transition-colors flex items-center gap-3 ${m?"bg-primary-50 text-primary-600":""} disabled:opacity-50`,children:[N.jsxDEV(i,{className:"text-lg"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:352,columnNumber:35},this),N.jsxDEV("div",{className:"flex-1 text-right",children:[N.jsxDEV("p",{className:"font-medium",children:l.label},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:354,columnNumber:37},this),N.jsxDEV("p",{className:"text-xs text-gray-500",children:l.description},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:355,columnNumber:37},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:353,columnNumber:35},this),m&&N.jsxDEV(w,{className:"text-primary-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:357,columnNumber:50},this)]},s,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:340,columnNumber:33},this)})]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:334,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:333,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:328,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:318,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:292,columnNumber:15},this)},e._id,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:291,columnNumber:13},this)})},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:289,columnNumber:9},this):N.jsxDEV("div",{className:"card text-center py-16",children:[N.jsxDEV(p,{className:"text-3xl md:text-4xl text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:373,columnNumber:11},this),N.jsxDEV("p",{className:"text-sm md:text-base text-gray-600 mb-2",children:"لا يوجد مديرين"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:374,columnNumber:11},this),N.jsxDEV("p",{className:"text-gray-500",children:S?"جرب تغيير معايير البحث":"لم يتم تسجيل أي مديرين بعد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:375,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:372,columnNumber:9},this),F&&N.jsxDEV(N.Fragment,{children:[N.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>L(!1)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:386,columnNumber:11},this),N.jsxDEV("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:N.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[N.jsxDEV("div",{className:"p-6 border-b border-gray-200",children:N.jsxDEV("div",{className:"flex items-center justify-between",children:[N.jsxDEV("h2",{className:"text-xl font-bold text-gray-900",children:"إضافة مدير جديد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:394,columnNumber:19},this),N.jsxDEV("button",{onClick:()=>L(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:N.jsxDEV(C,{className:"text-lg"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:399,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:395,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:393,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:392,columnNumber:15},this),N.jsxDEV("form",{onSubmit:e=>c(this,null,function*(){var a,i;e.preventDefault(),$(!0);try{yield u.createAdmin(B),yield I(),L(!1),H({name:"",email:"",password:"",phone:"",permissionType:"orders_manager"}),l("تم إنشاء حساب المدير بنجاح")}catch(m){s((null==(i=null==(a=m.response)?void 0:a.data)?void 0:i.message)||"فشل إنشاء حساب المدير")}finally{$(!1)}}),className:"p-6 space-y-4",children:[N.jsxDEV("div",{children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الاسم الكامل *"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:406,columnNumber:19},this),N.jsxDEV("input",{type:"text",required:!0,value:B.name,onChange:e=>H(n(o({},B),{name:e.target.value})),className:"input-field w-full",placeholder:"أدخل اسم المدير"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:409,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:405,columnNumber:17},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البريد الإلكتروني *"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:420,columnNumber:19},this),N.jsxDEV("div",{className:"relative",children:[N.jsxDEV(E,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:424,columnNumber:21},this),N.jsxDEV("input",{type:"email",required:!0,value:B.email,onChange:e=>H(n(o({},B),{email:e.target.value})),className:"input-field w-full pr-10",placeholder:"admin@example.com"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:425,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:423,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:419,columnNumber:17},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كلمة المرور *"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:437,columnNumber:19},this),N.jsxDEV("div",{className:"relative",children:[N.jsxDEV(U,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:441,columnNumber:21},this),N.jsxDEV("input",{type:"password",required:!0,minLength:6,value:B.password,onChange:e=>H(n(o({},B),{password:e.target.value})),className:"input-field w-full pr-10",placeholder:"6 أحرف على الأقل"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:442,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:440,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:436,columnNumber:17},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رقم الهاتف"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:455,columnNumber:19},this),N.jsxDEV("div",{className:"relative",children:[N.jsxDEV(R,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:459,columnNumber:21},this),N.jsxDEV("input",{type:"tel",value:B.phone,onChange:e=>H(n(o({},B),{phone:e.target.value})),className:"input-field w-full pr-10",placeholder:"+967777000000"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:460,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:458,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:454,columnNumber:17},this),N.jsxDEV("div",{children:[N.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نوع الصلاحيات *"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:471,columnNumber:19},this),N.jsxDEV("select",{value:B.permissionType,onChange:e=>H(n(o({},B),{permissionType:e.target.value})),className:"input-field w-full",children:Object.entries(_).map(([e,s])=>N.jsxDEV("option",{value:e,children:s.label},e,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:480,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:474,columnNumber:19},this),N.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:null==(e=_[B.permissionType])?void 0:e.description},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:485,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:470,columnNumber:17},this),N.jsxDEV("div",{className:"flex items-center gap-3 pt-4",children:[N.jsxDEV("button",{type:"button",onClick:()=>L(!1),className:"flex-1 btn-secondary",disabled:A,children:"إلغاء"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:491,columnNumber:19},this),N.jsxDEV("button",{type:"submit",className:"flex-1 btn-primary",disabled:A,children:A?N.jsxDEV(N.Fragment,{children:[N.jsxDEV(x,{className:"animate-spin ml-2"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:506,columnNumber:25},this),"جاري الإنشاء..."]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:505,columnNumber:23},this):N.jsxDEV(N.Fragment,{children:[N.jsxDEV(D,{className:"ml-2"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:511,columnNumber:25},this),"إنشاء حساب"]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:510,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:499,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:490,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:404,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:391,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:390,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:385,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/admin/Roles.jsx",lineNumber:179,columnNumber:5},this)}export{k as default};
