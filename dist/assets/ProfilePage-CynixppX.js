var e=Object.defineProperty,s=Object.defineProperties,m=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,t=(s,m,a)=>m in s?e(s,m,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[m]=a,o=(e,s)=>{for(var m in s||(s={}))r.call(s,m)&&t(e,m,s[m]);if(a)for(var m of a(s))l.call(s,m)&&t(e,m,s[m]);return e},i=(e,a)=>s(e,m(a));import{u as c,k as n,j as u,z as d,m as b,f as N,a4 as x,I as p}from"./index-Dfjzp2DE.js";import{r as g}from"./react-vendor-DBmefE3i.js";import"./icons-DYE8NDaX.js";import"./utils-CZ_YNEkO.js";function f(){const{user:e,updateUser:s}=c(),{error:m,success:a}=n(),[r,l]=g.useState({name:"",email:"",phone:"",address:{street:"",city:"",governorate:"",postalCode:""}}),[t,f]=g.useState(!1);g.useEffect(()=>{e&&l({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||{street:"",city:"",governorate:"",postalCode:""}})},[e]);return u.jsxDEV("div",{children:[u.jsxDEV("div",{className:"mb-4 md:mb-6",children:[u.jsxDEV("h1",{className:"text-lg sm:text-xl font-bold mb-1 sm:mb-2 text-gradient",children:"الملف الشخصي"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:57,columnNumber:9},this),u.jsxDEV("p",{className:"text-gray-600 text-xs sm:text-sm",children:"إدارة معلوماتك الشخصية والعنوان"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:58,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:56,columnNumber:7},this),u.jsxDEV("div",{className:"max-w-3xl",children:u.jsxDEV("form",{onSubmit:e=>{return l=this,t=null,o=function*(){var l,t;e.preventDefault(),f(!0);try{const e=yield p.updateProfile(r);s(e.data.user),a("✅ تم تحديث الملف الشخصي بنجاح!")}catch(o){m((null==(t=null==(l=o.response)?void 0:l.data)?void 0:t.message)||"فشل تحديث الملف الشخصي")}finally{f(!1)}},new Promise((s,m)=>{var a=s=>{try{i(o.next(s))}catch(e){m(e)}},r=s=>{try{i(o.throw(s))}catch(e){m(e)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,r);i((o=o.apply(l,t)).next())});var l,t,o},className:"card p-4 sm:p-5 md:p-6",children:[u.jsxDEV("div",{className:"mb-5 sm:mb-6 md:mb-8",children:[u.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-5 md:mb-6",children:[u.jsxDEV("div",{className:"bg-primary-100 p-2 sm:p-2.5 md:p-3 rounded-lg sm:rounded-xl",children:u.jsxDEV(d,{className:"text-primary-600 text-base sm:text-lg md:text-xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:67,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:66,columnNumber:15},this),u.jsxDEV("h2",{className:"text-base sm:text-lg font-bold",children:"المعلومات الشخصية"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:65,columnNumber:13},this),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5 md:gap-6",children:[u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block mb-1.5 sm:mb-2 text-sm sm:text-base font-medium",children:"الاسم الكامل"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:73,columnNumber:17},this),u.jsxDEV("input",{type:"text",value:r.name,onChange:e=>l(i(o({},r),{name:e.target.value})),className:"input-field text-sm sm:text-base py-2 sm:py-2.5",required:!0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:74,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:72,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block mb-1.5 sm:mb-2 text-sm sm:text-base font-medium",children:"البريد الإلكتروني"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:83,columnNumber:17},this),u.jsxDEV("input",{type:"email",value:r.email,className:"input-field bg-gray-50 text-sm sm:text-base py-2 sm:py-2.5",disabled:!0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:84,columnNumber:17},this),u.jsxDEV("p",{className:"text-xs text-gray-500 mt-1",children:"لا يمكن تغيير البريد الإلكتروني"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:90,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:82,columnNumber:15},this),u.jsxDEV("div",{className:"md:col-span-2",children:[u.jsxDEV("label",{className:"block mb-1.5 sm:mb-2 text-sm sm:text-base font-medium",children:"رقم الهاتف"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:93,columnNumber:17},this),u.jsxDEV("input",{type:"tel",value:r.phone,onChange:e=>l(i(o({},r),{phone:e.target.value})),className:"input-field text-sm sm:text-base py-2 sm:py-2.5",placeholder:"+967 777 000 000"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:94,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:92,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:71,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:64,columnNumber:11},this),u.jsxDEV("div",{children:[u.jsxDEV("div",{className:"flex items-center gap-2 sm:gap-3 mb-4 sm:mb-5 md:mb-6",children:[u.jsxDEV("div",{className:"bg-blue-100 p-2 sm:p-2.5 md:p-3 rounded-lg sm:rounded-xl",children:u.jsxDEV(b,{className:"text-blue-600 text-base sm:text-lg md:text-xl"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:109,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:108,columnNumber:15},this),u.jsxDEV("h2",{className:"text-base sm:text-lg font-bold",children:"العنوان"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:107,columnNumber:13},this),u.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5 md:gap-6",children:[u.jsxDEV("div",{className:"md:col-span-2",children:[u.jsxDEV("label",{className:"block mb-1.5 sm:mb-2 text-sm sm:text-base font-medium",children:"اسم الشارع"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:115,columnNumber:17},this),u.jsxDEV("input",{type:"text",value:r.address.street,onChange:e=>l(i(o({},r),{address:i(o({},r.address),{street:e.target.value})})),className:"input-field text-sm sm:text-base py-2 sm:py-2.5",placeholder:"شارع الزبيري"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:116,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:114,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block mb-1.5 sm:mb-2 text-sm sm:text-base font-medium",children:"المدينة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:130,columnNumber:17},this),u.jsxDEV("input",{type:"text",value:r.address.city,onChange:e=>l(i(o({},r),{address:i(o({},r.address),{city:e.target.value})})),className:"input-field text-sm sm:text-base py-2 sm:py-2.5",placeholder:"صنعاء"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:131,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:129,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block mb-1.5 sm:mb-2 text-sm sm:text-base font-medium",children:"المحافظة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:145,columnNumber:17},this),u.jsxDEV("input",{type:"text",value:r.address.governorate,onChange:e=>l(i(o({},r),{address:i(o({},r.address),{governorate:e.target.value})})),className:"input-field text-sm sm:text-base py-2 sm:py-2.5",placeholder:"أمانة العاصمة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:144,columnNumber:15},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block mb-1.5 sm:mb-2 text-sm sm:text-base font-medium",children:"الرمز البريدي"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:160,columnNumber:17},this),u.jsxDEV("input",{type:"text",value:r.address.postalCode,onChange:e=>l(i(o({},r),{address:i(o({},r.address),{postalCode:e.target.value})})),className:"input-field text-sm sm:text-base py-2 sm:py-2.5",placeholder:"00000"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:113,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:106,columnNumber:11},this),u.jsxDEV("div",{className:"mt-5 sm:mt-6 md:mt-8 pt-4 sm:pt-5 md:pt-6 border-t border-gray-200",children:u.jsxDEV("button",{type:"submit",disabled:t,className:"btn-primary w-full md:w-auto min-w-[150px] sm:min-w-[200px] flex items-center justify-center gap-2 text-sm sm:text-base py-2 sm:py-2.5 px-4",children:t?u.jsxDEV(u.Fragment,{children:[u.jsxDEV(N,{className:"animate-spin text-sm sm:text-base"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:186,columnNumber:19},this),"جاري الحفظ..."]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:185,columnNumber:17},this):u.jsxDEV(u.Fragment,{children:[u.jsxDEV(x,{className:"text-sm sm:text-base"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:191,columnNumber:19},this),"حفظ التغييرات"]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:190,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:179,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:62,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:61,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/customer/ProfilePage.jsx",lineNumber:54,columnNumber:5},this)}export{f as default};
