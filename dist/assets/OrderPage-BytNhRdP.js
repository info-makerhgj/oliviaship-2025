import{u as e,j as s,l as r,a,m as l,d as i,n as c,p as m,o as t}from"./index-Ctx_GovF.js";import{b as o,r as d}from"./react-vendor-DBmefE3i.js";import"./icons-DYE8NDaX.js";import"./utils-CZ_YNEkO.js";function n(){const{isAuthenticated:n}=e(),u=o(),[b,N]=d.useState(""),[p,x]=d.useState(!1),[g,h]=d.useState(""),[j,D]=d.useState(!1),f=()=>{return e=this,s=null,r=function*(){var e,s;if(b.trim())if(n){x(!0),h(""),D(!1);try{const e=yield m.fetchFromUrl(b);e.data.success&&(e.data.product.success||e.data.product.name)?(e.data.product.product||e.data.product,yield t.fetchAndAdd({url:b,quantity:1}),D(!0),N(""),setTimeout(()=>{u("/cart")},1500)):h("فشل في جلب بيانات المنتج. يرجى التأكد من صحة الرابط")}catch(r){h((null==(s=null==(e=r.response)?void 0:e.data)?void 0:s.message)||"فشل في جلب المنتج")}finally{x(!1)}}else u("/login");else h("يرجى إدخال رابط المنتج")},new Promise((a,l)=>{var i=e=>{try{m(r.next(e))}catch(s){l(s)}},c=e=>{try{m(r.throw(e))}catch(s){l(s)}},m=e=>e.done?a(e.value):Promise.resolve(e.value).then(i,c);m((r=r.apply(e,s)).next())});var e,s,r};return s.jsxDEV("div",{className:"min-h-screen bg-gray-50 py-12",children:s.jsxDEV("div",{className:"container mx-auto px-4",children:s.jsxDEV("div",{className:"max-w-3xl mx-auto",children:[s.jsxDEV("div",{className:"text-center mb-8",children:[s.jsxDEV("h1",{className:"text-xl md:text-2xl font-bold mb-4 text-gradient",children:"طلب منتج جديد"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:64,columnNumber:13},this),s.jsxDEV("p",{className:"text-sm md:text-base text-gray-600",children:"الصق رابط المنتج من أي متجر عالمي وسيتم إضافته للسلة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:65,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:63,columnNumber:11},this),s.jsxDEV("div",{className:"card p-4 md:p-6",children:[s.jsxDEV("div",{className:"mb-4",children:[s.jsxDEV("label",{className:"block mb-2 font-bold text-base",children:"رابط المنتج"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:71,columnNumber:15},this),s.jsxDEV("div",{className:"flex gap-3 flex-col sm:flex-row",children:[s.jsxDEV("input",{type:"url",value:b,onChange:e=>{N(e.target.value),h(""),D(!1)},placeholder:"https://www.amazon.com/... أو https://www.noon.com/...",className:"input-field flex-grow text-sm md:text-base",onKeyPress:e=>"Enter"===e.key&&f()},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:73,columnNumber:17},this),s.jsxDEV("button",{onClick:f,disabled:p||!n,className:"btn-primary whitespace-nowrap flex items-center justify-center gap-2 disabled:opacity-50",children:p?s.jsxDEV(s.Fragment,{children:[s.jsxDEV(r,{className:"animate-spin"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:92,columnNumber:23},this),"جاري الجلب..."]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:91,columnNumber:21},this):s.jsxDEV(s.Fragment,{children:[s.jsxDEV(a,{},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:97,columnNumber:23},this),"جلب وإضافة للسلة"]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:96,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:72,columnNumber:15},this),g&&s.jsxDEV("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-red-700",children:[s.jsxDEV(l,{},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:106,columnNumber:19},this),g]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:105,columnNumber:17},this),j&&s.jsxDEV("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center gap-2 text-green-700",children:[s.jsxDEV(i,{},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:113,columnNumber:19},this),"تم جلب المنتج وإضافته للسلة بنجاح! جاري الانتقال للسلة..."]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:112,columnNumber:17},this),!n&&s.jsxDEV("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-xl text-yellow-700",children:"يجب تسجيل الدخول لإضافة المنتجات للسلة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:119,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:70,columnNumber:13},this),s.jsxDEV("div",{className:"pt-4 border-t border-gray-200",children:[s.jsxDEV("p",{className:"text-gray-600 mb-3 text-sm font-medium",children:"المتاجر المدعومة:"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:127,columnNumber:15},this),s.jsxDEV("div",{className:"flex flex-wrap gap-2",children:["Amazon","Noon","SHEIN","AliExpress","Temu"].map(e=>s.jsxDEV("span",{className:"px-3 py-1.5 bg-primary-50 text-primary-700 rounded-lg text-xs md:text-sm font-medium",children:e},e,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:130,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:128,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:126,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:69,columnNumber:11},this),s.jsxDEV("div",{className:"card mt-4 p-4 md:p-5 bg-gradient-to-br from-primary-50 to-secondary-50 border border-primary-200",children:s.jsxDEV("div",{className:"flex items-start gap-3",children:[s.jsxDEV(c,{className:"text-lg md:text-xl text-primary-600 flex-shrink-0 mt-0.5"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:141,columnNumber:15},this),s.jsxDEV("div",{children:[s.jsxDEV("h3",{className:"font-bold text-base mb-2",children:"كيف يعمل النظام؟"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:143,columnNumber:17},this),s.jsxDEV("ul",{className:"space-y-1.5 text-sm text-gray-700",children:[s.jsxDEV("li",{className:"flex items-start gap-2",children:[s.jsxDEV("span",{className:"text-primary-600 font-bold text-xs",children:"1."},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:146,columnNumber:21},this),s.jsxDEV("span",{children:'الصق رابط المنتج واضغط "جلب وإضافة للسلة"'},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:147,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:145,columnNumber:19},this),s.jsxDEV("li",{className:"flex items-start gap-2",children:[s.jsxDEV("span",{className:"text-primary-600 font-bold text-xs",children:"2."},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:150,columnNumber:21},this),s.jsxDEV("span",{children:"سيتم جلب بيانات المنتج تلقائياً وإضافته للسلة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:151,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:149,columnNumber:19},this),s.jsxDEV("li",{className:"flex items-start gap-2",children:[s.jsxDEV("span",{className:"text-primary-600 font-bold text-xs",children:"3."},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:154,columnNumber:21},this),s.jsxDEV("span",{children:"يمكنك إضافة منتجات متعددة للسلة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:155,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:153,columnNumber:19},this),s.jsxDEV("li",{className:"flex items-start gap-2",children:[s.jsxDEV("span",{className:"text-primary-600 font-bold text-xs",children:"4."},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:158,columnNumber:21},this),s.jsxDEV("span",{children:"اذهب للسلة لإتمام الطلب مع حساب موحد للرسوم"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:159,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:157,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:144,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:140,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:139,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:61,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:60,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/public/OrderPage.jsx",lineNumber:59,columnNumber:5},this)}export{n as default};
