var e=Object.defineProperty,s=Object.defineProperties,m=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,t=(s,m,a)=>m in s?e(s,m,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[m]=a,l=(e,s)=>{for(var m in s||(s={}))i.call(s,m)&&t(e,m,s[m]);if(a)for(var m of a(s))n.call(s,m)&&t(e,m,s[m]);return e},o=(e,a)=>s(e,m(a));import{k as r,ab as c,j as d,f as u,l as g,T as N,b as x,n as b,G as p,A as j}from"./index-Dfjzp2DE.js";import{r as h}from"./react-vendor-DBmefE3i.js";import{f as C}from"./helpers-B6CJClH3.js";import"./icons-DYE8NDaX.js";import"./utils-CZ_YNEkO.js";function D(){const{error:e}=r(),[s,m]=h.useState(null),[a,i]=h.useState([]),[n,t]=h.useState(null),[D,f]=h.useState(!0),[v,y]=h.useState(""),[w,A]=h.useState("all"),[E,U]=h.useState({page:1,limit:20,total:0,pages:0}),[V,S]=h.useState(null),[O,P]=h.useState(!1);h.useEffect(()=>{k()},[E.page,w]);const k=()=>{return s=this,a=null,i=function*(){var s,a,i,n,l,o;try{f(!0);const e=yield c.getMyAgent();if(null==(s=null==e?void 0:e.data)?void 0:s.agent){m(e.data.agent);const s=e.data.agent._id,l=yield c.getStats(s);(null==(a=null==l?void 0:l.data)?void 0:a.stats)&&t(l.data.stats),null==(n=null==(i=null==l?void 0:l.data)?void 0:i.stats)||n.commissions}}catch(r){e((null==(o=null==(l=r.response)?void 0:l.data)?void 0:o.message)||"فشل في تحميل البيانات")}finally{f(!1)}},new Promise((e,m)=>{var n=e=>{try{l(i.next(e))}catch(s){m(s)}},t=e=>{try{l(i.throw(e))}catch(s){m(s)}},l=s=>s.done?e(s.value):Promise.resolve(s.value).then(n,t);l((i=i.apply(s,a)).next())});var s,a,i};return D&&!s?d.jsxDEV("div",{className:"flex items-center justify-center py-20",children:d.jsxDEV(u,{className:"animate-spin text-xl md:text-2xl text-primary-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:85,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:84,columnNumber:7},this):s?d.jsxDEV("div",{children:[d.jsxDEV("div",{className:"mb-4 md:mb-6",children:[d.jsxDEV("h1",{className:"text-lg sm:text-xl font-bold mb-1 sm:mb-2 text-gradient",children:"العمولات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:103,columnNumber:9},this),d.jsxDEV("p",{className:"text-sm sm:text-base text-gray-600",children:"عرض ومتابعة عمولاتك"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:104,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:102,columnNumber:7},this),(null==n?void 0:n.commissions)&&d.jsxDEV("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 md:gap-4 mb-4 md:mb-6",children:[d.jsxDEV("div",{className:"card bg-gradient-to-br from-primary-50 to-primary-100 border-primary-200 p-3 sm:p-4",children:d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{className:"flex-1 min-w-0",children:[d.jsxDEV("p",{className:"text-xs text-primary-700 font-medium mb-1",children:"إجمالي العمولات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:113,columnNumber:17},this),d.jsxDEV("p",{className:"text-base sm:text-lg font-bold text-primary-900 truncate",children:C(n.commissions.total||0,"SAR")},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:114,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:112,columnNumber:15},this),d.jsxDEV("div",{className:"bg-primary-200 p-2 sm:p-2.5 rounded-lg flex-shrink-0 ml-2",children:d.jsxDEV(N,{className:"text-sm sm:text-base text-primary-700"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:119,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:118,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:111,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:110,columnNumber:11},this),d.jsxDEV("div",{className:"card bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200 p-3 sm:p-4",children:d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{className:"flex-1 min-w-0",children:[d.jsxDEV("p",{className:"text-xs text-yellow-700 font-medium mb-1",children:"معلقة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:127,columnNumber:17},this),d.jsxDEV("p",{className:"text-base sm:text-lg font-bold text-yellow-900 truncate",children:C(n.commissions.pending||0,"SAR")},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:128,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:126,columnNumber:15},this),d.jsxDEV("div",{className:"bg-yellow-200 p-2 sm:p-2.5 rounded-lg flex-shrink-0 ml-2",children:d.jsxDEV(x,{className:"text-sm sm:text-base text-yellow-700"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:133,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:132,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:125,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:124,columnNumber:11},this),d.jsxDEV("div",{className:"card bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 p-3 sm:p-4",children:d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{className:"flex-1 min-w-0",children:[d.jsxDEV("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"محسوبة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:141,columnNumber:17},this),d.jsxDEV("p",{className:"text-base sm:text-lg font-bold text-blue-900 truncate",children:C((n.commissions.total||0)-(n.commissions.paid||0)-(n.commissions.pending||0),"SAR")},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:142,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:140,columnNumber:15},this),d.jsxDEV("div",{className:"bg-blue-200 p-2 sm:p-2.5 rounded-lg flex-shrink-0 ml-2",children:d.jsxDEV(g,{className:"text-sm sm:text-base text-blue-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:147,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:146,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:139,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:138,columnNumber:11},this),d.jsxDEV("div",{className:"card bg-gradient-to-br from-green-50 to-green-100 border-green-200 p-3 sm:p-4",children:d.jsxDEV("div",{className:"flex items-center justify-between",children:[d.jsxDEV("div",{className:"flex-1 min-w-0",children:[d.jsxDEV("p",{className:"text-xs text-green-700 font-medium mb-1",children:"مدفوعة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:155,columnNumber:17},this),d.jsxDEV("p",{className:"text-base sm:text-lg font-bold text-green-900 truncate",children:C(n.commissions.paid||0,"SAR")},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:156,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:154,columnNumber:15},this),d.jsxDEV("div",{className:"bg-green-200 p-2 sm:p-2.5 rounded-lg flex-shrink-0 ml-2",children:d.jsxDEV(b,{className:"text-sm sm:text-base text-green-700"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:161,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:160,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:153,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:152,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:109,columnNumber:9},this),d.jsxDEV("div",{className:"card mb-4 md:mb-6 p-3 sm:p-4",children:d.jsxDEV("div",{className:"flex flex-col md:flex-row gap-2 sm:gap-3 md:gap-4",children:[d.jsxDEV("div",{className:"flex-1",children:d.jsxDEV("div",{className:"relative",children:[d.jsxDEV(p,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:173,columnNumber:15},this),d.jsxDEV("input",{type:"text",placeholder:"بحث...",value:v,onChange:e=>{y(e.target.value),U(o(l({},E),{page:1}))},className:"input-field w-full pr-10"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:174,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:172,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:171,columnNumber:11},this),d.jsxDEV("select",{value:w,onChange:e=>{A(e.target.value),U(o(l({},E),{page:1}))},className:"input-field",children:[d.jsxDEV("option",{value:"all",children:"جميع الحالات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:194,columnNumber:13},this),d.jsxDEV("option",{value:"pending",children:"معلقة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:195,columnNumber:13},this),d.jsxDEV("option",{value:"calculated",children:"محسوبة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:196,columnNumber:13},this),d.jsxDEV("option",{value:"paid",children:"مدفوعة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:197,columnNumber:13},this),d.jsxDEV("option",{value:"cancelled",children:"ملغاة"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:170,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:169,columnNumber:7},this),D?d.jsxDEV("div",{className:"flex items-center justify-center py-20",children:d.jsxDEV(u,{className:"animate-spin text-xl md:text-2xl text-primary-600"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:206,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:205,columnNumber:9},this):d.jsxDEV("div",{className:"card",children:d.jsxDEV("div",{className:"text-center py-12",children:[d.jsxDEV(g,{className:"text-4xl text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:211,columnNumber:13},this),d.jsxDEV("p",{className:"text-lg text-gray-600 mb-2",children:"تفاصيل العمولات ستظهر هنا"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:212,columnNumber:13},this),d.jsxDEV("p",{className:"text-sm text-gray-500",children:"سيتم إضافة API endpoint لعرض تفاصيل العمولات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:213,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:210,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:209,columnNumber:9},this),d.jsxDEV("div",{className:"card bg-blue-50 border-blue-200 mt-6",children:d.jsxDEV("div",{className:"flex items-start gap-3",children:[d.jsxDEV(j,{className:"text-blue-600 mt-1"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:223,columnNumber:11},this),d.jsxDEV("div",{children:[d.jsxDEV("p",{className:"font-semibold text-blue-900 mb-1",children:"معلومات عن العمولات"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:225,columnNumber:13},this),d.jsxDEV("p",{className:"text-sm text-blue-600",children:["يتم حساب العمولات تلقائياً عند إرسال الطلبات للمنصة. نسبة عمولتك الحالية: ",d.jsxDEV("strong",{children:[s.commissionRate,"%"]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:227,columnNumber:89},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:226,columnNumber:13},this),d.jsxDEV("p",{className:"text-sm text-blue-600 mt-2",children:"العمولات المعلقة: الطلبات التي تم إرسالها ولكن لم يتم تأكيدها بعد."},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:229,columnNumber:13},this),d.jsxDEV("p",{className:"text-sm text-blue-600",children:"العمولات المدفوعة: تم تأكيدها ودفعها من الإدارة."},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:224,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:222,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:221,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:100,columnNumber:5},this):d.jsxDEV("div",{className:"card text-center py-12",children:[d.jsxDEV(g,{className:"text-4xl text-gray-300 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:93,columnNumber:9},this),d.jsxDEV("p",{className:"text-lg text-gray-600 mb-4",children:"أنت لست وكيلاً"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:94,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/agent/AgentCommissions.jsx",lineNumber:92,columnNumber:7},this)}export{D as default};
