var e=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,l=(s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,o=(e,s)=>{for(var a in s||(s={}))i.call(s,a)&&l(e,a,s[a]);if(r)for(var a of r(s))t.call(s,a)&&l(e,a,s[a]);return e},n=(e,r)=>s(e,a(r));import{u as m,k as c,j as u,I as d}from"./index-Dfjzp2DE.js";import{b as g,r as b,L as N}from"./react-vendor-DBmefE3i.js";import"./icons-DYE8NDaX.js";import"./utils-CZ_YNEkO.js";function h(){const e=g(),{login:s}=m(),{error:a}=c(),[r,i]=b.useState({email:"",password:""}),[t,l]=b.useState(!1);return u.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4",children:u.jsxDEV("div",{className:"max-w-md w-full",children:u.jsxDEV("div",{className:"card",children:[u.jsxDEV("h2",{className:"text-xl font-bold text-center mb-4",children:"تسجيل الدخول"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:41,columnNumber:11},this),u.jsxDEV("form",{onSubmit:i=>{return t=this,o=null,n=function*(){var t,o;i.preventDefault(),l(!0);try{const a=yield d.login(r);s(a.data.user,a.data.token),"admin"===a.data.user.role?e("/admin"):"agent"===a.data.user.role?e("/agent"):e("/dashboard")}catch(n){a((null==(o=null==(t=n.response)?void 0:t.data)?void 0:o.message)||"فشل تسجيل الدخول")}finally{l(!1)}},new Promise((e,s)=>{var a=e=>{try{l(n.next(e))}catch(i){s(i)}},r=e=>{try{l(n.throw(e))}catch(i){s(i)}},l=s=>s.done?e(s.value):Promise.resolve(s.value).then(a,r);l((n=n.apply(t,o)).next())});var t,o,n},className:"space-y-4",children:[u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block mb-2",children:"البريد الإلكتروني"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:44,columnNumber:15},this),u.jsxDEV("input",{type:"email",value:r.email,onChange:e=>i(n(o({},r),{email:e.target.value})),className:"input-field",required:!0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:45,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:43,columnNumber:13},this),u.jsxDEV("div",{children:[u.jsxDEV("label",{className:"block mb-2",children:"كلمة المرور"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:54,columnNumber:15},this),u.jsxDEV("input",{type:"password",value:r.password,onChange:e=>i(n(o({},r),{password:e.target.value})),className:"input-field",required:!0},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:55,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:53,columnNumber:13},this),u.jsxDEV("button",{type:"submit",disabled:t,className:"btn-primary w-full",children:t?"جاري تسجيل الدخول...":"تسجيل الدخول"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:42,columnNumber:11},this),u.jsxDEV("p",{className:"text-center mt-4 text-gray-600",children:["ليس لديك حساب؟ ",u.jsxDEV(N,{to:"/register",className:"text-primary-600 hover:underline",children:"إنشاء حساب"},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:68,columnNumber:28},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:40,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:39,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/cct33/Downloads/2yam/src/pages/auth/LoginPage.jsx",lineNumber:38,columnNumber:5},this)}export{h as default};
