# ğŸ“± API Ù„Ù„Ø¹Ù…ÙŠÙ„ - ØªØ·Ø¨ÙŠÙ‚ Olivia Ship

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù‡Ø°Ø§ Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø®Ø§Øµ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¬ÙˆØ§Ù„ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙ‚Ø·.
Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… (Admin, Agent, Point Manager) ØªØ¨Ù‚Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙŠØ¨.

---

## ğŸŒ Base URL

### Ù„Ù„ØªØ·ÙˆÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ:
```
http://192.168.1.111:5000/api
```

### Ù„Ù„ØªØ·ÙˆÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§ÙƒÙŠ (Emulator):
- **Android Emulator:** `http://10.0.2.2:5000/api`
- **iOS Simulator:** `http://localhost:5000/api`

### Ù„Ù„Ø¥Ù†ØªØ§Ø¬:
```
https://your-domain.com/api
```

**âš ï¸ Ù…Ù‡Ù…:** ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø¬ÙˆØ§Ù„ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø´Ø¨ÙƒØ© (WiFi)!

---

## ğŸ“± Ø´Ø§Ø´Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### 1. Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Register)
- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Login)
- Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Profile)

### 2. Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
- Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø·
- Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„ÙƒÙˆØ¨ÙˆÙ†Ø§Øª

### 3. Ø§Ù„Ø³Ù„Ø©
- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø©
- ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ©
- Ø­Ø°Ù Ù…Ù†ØªØ¬
- Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©

### 4. Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
- ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨

### 5. Ø§Ù„Ù…Ø­ÙØ¸Ø©
- Ø¹Ø±Ø¶ Ø§Ù„Ø±ØµÙŠØ¯
- Ø´Ø­Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø¨ÙƒÙˆØ¯
- Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª

### 6. Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹
- Ø¹Ø±Ø¶ Ø£Ù‚Ø±Ø¨ Ù†Ù‚Ø·Ø© Ø¨ÙŠØ¹
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹
- ØªÙØ§ØµÙŠÙ„ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹

### 7. Ø§Ù„Ø¯Ø¹Ù…
- Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù…
- Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©

---

## ğŸ” 1. Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„

### 1.1 Ø§Ù„ØªØ³Ø¬ÙŠÙ„
**POST** `/auth/register`

**Body:**
```json
{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
  "email": "ahmed@example.com",
  "password": "password123",
  "phone": "777123456",
  "address": "ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠ"
}
```

**Response:**
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "_id": "user_id",
    "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "email": "ahmed@example.com",
    "phone": "777123456",
    "role": "customer"
  }
}
```

---

### 1.2 ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
**POST** `/auth/login`

**Body:**
```json
{
  "email": "ahmed@example.com",
  "password": "password123"
}
```

**Response:**
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "_id": "user_id",
    "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "email": "ahmed@example.com",
    "role": "customer"
  }
}
```

**âš ï¸ Ù…Ù‡Ù…:** Ø§Ø­ÙØ¸ Ø§Ù„Ù€ Token ÙˆØ§Ø³ØªØ®Ø¯Ù…Ù‡ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©!

---

### 1.3 Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
**GET** `/auth/me`

**Headers:**
```
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "user": {
    "_id": "user_id",
    "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "email": "ahmed@example.com",
    "phone": "777123456",
    "address": "ØµÙ†Ø¹Ø§Ø¡ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠ",
    "role": "customer",
    "createdAt": "2025-01-09T10:00:00.000Z"
  }
}
```

---

### 1.4 ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
**PUT** `/auth/profile`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
  "phone": "777999888",
  "address": "ØµÙ†Ø¹Ø§Ø¡ØŒ Ø­ÙŠ Ø§Ù„Ø³Ø¨Ø¹ÙŠÙ†"
}
```

---

### 1.5 ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
**PUT** `/auth/change-password`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "currentPassword": "password123",
  "newPassword": "newpassword456"
}
```

---

## ğŸ  2. Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 2.1 Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
**GET** `/settings`

**Response:**
```json
{
  "success": true,
  "settings": {
    "general": {
      "siteName": "Olivia Ship",
      "contactEmail": "info@oliviaship.com",
      "contactPhone": "776999080"
    },
    "stores": {
      "amazon": { "enabled": true },
      "noon": { "enabled": true },
      "aliexpress": { "enabled": true },
      "shein": { "enabled": false },
      "temu": { "enabled": false }
    }
  }
}
```

---

### 2.2 Ø¬Ù„Ø¨ Ù…Ù†ØªØ¬ Ù…Ù† Ø±Ø§Ø¨Ø·
**POST** `/products/fetch-from-url`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "url": "https://www.amazon.sa/dp/B08N5WRWNW"
}
```

**Response:**
```json
{
  "success": true,
  "product": {
    "title": "Ø³Ù…Ø§Ø¹Ø§Øª Ø£Ø¨Ù„ AirPods Pro",
    "price": 899.00,
    "currency": "SAR",
    "image": "https://m.media-amazon.com/images/I/...",
    "description": "Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ© Ù…Ø¹ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡",
    "store": "amazon",
    "url": "https://www.amazon.sa/dp/B08N5WRWNW"
  }
}
```

---

### 2.3 Ø­Ø³Ø§Ø¨ ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ù†ØªØ¬
**POST** `/products/calculate-cost`

**Body:**
```json
{
  "price": 899.00,
  "currency": "SAR",
  "weight": 0.5,
  "quantity": 1
}
```

**Response:**
```json
{
  "success": true,
  "cost": {
    "productPrice": 899.00,
    "shippingCost": 50.00,
    "commission": 134.85,
    "customs": 44.95,
    "total": 1128.80
  }
}
```

---

## ğŸ›’ 3. Ø§Ù„Ø³Ù„Ø©

### 3.1 Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©
**GET** `/cart`

**Headers:**
```
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "cart": {
    "items": [
      {
        "_id": "item_id_1",
        "title": "Ø³Ù…Ø§Ø¹Ø§Øª Ø£Ø¨Ù„ AirPods Pro",
        "price": 899.00,
        "quantity": 1,
        "image": "https://...",
        "url": "https://www.amazon.sa/dp/B08N5WRWNW",
        "options": {
          "color": "Ø£Ø¨ÙŠØ¶"
        }
      }
    ],
    "totalItems": 1,
    "subtotal": 899.00,
    "shippingCost": 50.00,
    "commission": 134.85,
    "customs": 44.95,
    "discount": 0,
    "totalPrice": 1128.80
  }
}
```

---

### 3.2 Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©
**POST** `/cart/fetch-and-add`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "url": "https://www.amazon.sa/dp/B08N5WRWNW",
  "quantity": 1,
  "options": {
    "color": "Ø£Ø¨ÙŠØ¶",
    "size": "Ø¹Ø§Ø¯ÙŠ"
  }
}
```

**Response:**
```json
{
  "success": true,
  "message": "ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­",
  "cart": { /* Ù†ÙØ³ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ù„Ø© */ }
}
```

---

### 3.3 ØªØ­Ø¯ÙŠØ« ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬
**PUT** `/cart/items/{itemId}/quantity`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "quantity": 2
}
```

---

### 3.4 Ø­Ø°Ù Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©
**DELETE** `/cart/items/{itemId}`

**Headers:**
```
Authorization: Bearer {token}
```

---

### 3.5 Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
**DELETE** `/cart/clear`

**Headers:**
```
Authorization: Bearer {token}
```

---

### 3.6 Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ (Checkout)
**POST** `/cart/checkout`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "shippingAddress": {
    "fullName": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
    "phone": "777123456",
    "city": "ØµÙ†Ø¹Ø§Ø¡",
    "address": "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠØŒ Ø¨Ø¬ÙˆØ§Ø± Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø«ÙˆØ±Ø©"
  },
  "paymentMethod": "stripe",
  "couponCode": "DISCOUNT10",
  "notes": "ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØµÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¡"
}
```

**Response:**
```json
{
  "success": true,
  "order": {
    "_id": "order_id",
    "orderNumber": "ORD-2025-001",
    "status": "pending",
    "totalAmount": 1128.80,
    "paymentStatus": "pending"
  },
  "paymentUrl": "https://checkout.stripe.com/pay/cs_test_..."
}
```

**Ù…Ù„Ø§Ø­Ø¸Ø©:** Ø¥Ø°Ø§ ÙƒØ§Ù† `paymentMethod` Ù‡Ùˆ `stripe`, Ø³ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ `paymentUrl` Ù„ÙØªØ­Ù‡ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.

---

## ğŸ“¦ 4. Ø§Ù„Ø·Ù„Ø¨Ø§Øª

### 4.1 Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
**GET** `/orders`

**Headers:**
```
Authorization: Bearer {token}
```

**Query Parameters:**
- `page` (optional): Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø© (default: 1)
- `limit` (optional): Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (default: 10)
- `status` (optional): Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ (pending, processing, shipped, delivered, cancelled)

**Response:**
```json
{
  "success": true,
  "orders": [
    {
      "_id": "order_id",
      "orderNumber": "ORD-2025-001",
      "status": "processing",
      "totalAmount": 1128.80,
      "itemsCount": 1,
      "createdAt": "2025-01-09T10:00:00.000Z"
    }
  ],
  "pagination": {
    "currentPage": 1,
    "totalPages": 3,
    "totalOrders": 25,
    "hasNextPage": true,
    "hasPrevPage": false
  }
}
```

---

### 4.2 ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨
**GET** `/orders/{orderId}`

**Headers:**
```
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "order": {
    "_id": "order_id",
    "orderNumber": "ORD-2025-001",
    "status": "processing",
    "items": [
      {
        "title": "Ø³Ù…Ø§Ø¹Ø§Øª Ø£Ø¨Ù„ AirPods Pro",
        "price": 899.00,
        "quantity": 1,
        "image": "https://...",
        "url": "https://www.amazon.sa/dp/B08N5WRWNW"
      }
    ],
    "shippingAddress": {
      "fullName": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
      "phone": "777123456",
      "city": "ØµÙ†Ø¹Ø§Ø¡",
      "address": "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠØŒ Ø¨Ø¬ÙˆØ§Ø± Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø«ÙˆØ±Ø©"
    },
    "subtotal": 899.00,
    "shippingCost": 50.00,
    "commission": 134.85,
    "customs": 44.95,
    "discount": 0,
    "totalAmount": 1128.80,
    "paymentMethod": "stripe",
    "paymentStatus": "paid",
    "notes": "ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØµÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¡",
    "createdAt": "2025-01-09T10:00:00.000Z"
  }
}
```

---

### 4.3 ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨
**GET** `/orders/track/{orderNumber}`

**Response:**
```json
{
  "success": true,
  "order": {
    "orderNumber": "ORD-2025-001",
    "status": "shipped",
    "trackingNumber": "TRACK123456",
    "estimatedDelivery": "2025-01-15",
    "currentLocation": "Ù…Ø±ÙƒØ² Ø§Ù„ØªÙˆØ²ÙŠØ¹ - ØµÙ†Ø¹Ø§Ø¡",
    "timeline": [
      {
        "status": "pending",
        "date": "2025-01-09T10:00:00.000Z",
        "description": "ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨"
      },
      {
        "status": "processing",
        "date": "2025-01-10T14:00:00.000Z",
        "description": "Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨"
      },
      {
        "status": "shipped",
        "date": "2025-01-11T09:00:00.000Z",
        "description": "ØªÙ… Ø´Ø­Ù† Ø§Ù„Ø·Ù„Ø¨"
      }
    ]
  }
}
```

---

## ğŸ’° 5. Ø§Ù„Ù…Ø­ÙØ¸Ø©

### 5.1 Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©
**GET** `/wallet`

**Headers:**
```
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "wallet": {
    "balance": 500.00,
    "currency": "SAR"
  }
}
```

---

### 5.2 Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª
**GET** `/wallet/transactions`

**Headers:**
```
Authorization: Bearer {token}
```

**Query Parameters:**
- `page` (optional): Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø©
- `limit` (optional): Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬

**Response:**
```json
{
  "success": true,
  "transactions": [
    {
      "_id": "transaction_id",
      "type": "credit",
      "amount": 100.00,
      "description": "Ø´Ø­Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø¨ÙƒÙˆØ¯",
      "balanceAfter": 600.00,
      "date": "2025-01-09T10:00:00.000Z"
    },
    {
      "_id": "transaction_id_2",
      "type": "debit",
      "amount": 50.00,
      "description": "Ø¯ÙØ¹ Ø·Ù„Ø¨ ORD-2025-001",
      "balanceAfter": 550.00,
      "date": "2025-01-08T15:00:00.000Z"
    }
  ],
  "pagination": {
    "currentPage": 1,
    "totalPages": 2,
    "totalTransactions": 15
  }
}
```

---

### 5.3 Ø´Ø­Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø¨ÙƒÙˆØ¯
**POST** `/wallet/redeem-code`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "code": "WALLET-ABC123"
}
```

**Response:**
```json
{
  "success": true,
  "message": "ØªÙ… Ø´Ø­Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø¨Ù†Ø¬Ø§Ø­",
  "amount": 100.00,
  "newBalance": 600.00
}
```

---

## ğŸ“ 6. Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹

### 6.1 Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ù‚Ø±Ø¨ Ù†Ù‚Ø·Ø© Ø¨ÙŠØ¹
**GET** `/pos/nearest`

**Query Parameters:**
- `lat`: Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ (Ù…Ø«Ø§Ù„: 15.3694)
- `lng`: Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ (Ù…Ø«Ø§Ù„: 44.1910)
- `radius`: Ù†Ø·Ø§Ù‚ Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ± (default: 10)

**Response:**
```json
{
  "success": true,
  "points": [
    {
      "_id": "point_id",
      "name": "Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹ - ØµÙ†Ø¹Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©",
      "address": "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠØŒ Ø¨Ø¬ÙˆØ§Ø± Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø«ÙˆØ±Ø©",
      "phone": "777123456",
      "city": "ØµÙ†Ø¹Ø§Ø¡",
      "location": {
        "lat": 15.3694,
        "lng": 44.1910
      },
      "distance": 2.5,
      "workingHours": "9:00 ØµØ¨Ø§Ø­Ø§Ù‹ - 9:00 Ù…Ø³Ø§Ø¡Ù‹",
      "status": "active"
    }
  ]
}
```

---

### 6.2 Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹
**GET** `/pos/public`

**Query Parameters:**
- `city` (optional): ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©

**Response:**
```json
{
  "success": true,
  "points": [
    {
      "_id": "point_id",
      "name": "Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹ - ØµÙ†Ø¹Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©",
      "address": "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø²Ø¨ÙŠØ±ÙŠØŒ Ø¨Ø¬ÙˆØ§Ø± Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø«ÙˆØ±Ø©",
      "phone": "777123456",
      "city": "ØµÙ†Ø¹Ø§Ø¡",
      "workingHours": "9:00 ØµØ¨Ø§Ø­Ø§Ù‹ - 9:00 Ù…Ø³Ø§Ø¡Ù‹",
      "status": "active"
    }
  ]
}
```

---

## ğŸŸï¸ 7. Ø§Ù„ÙƒÙˆØ¨ÙˆÙ†Ø§Øª

### 7.1 Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙˆØ¨ÙˆÙ†Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©
**GET** `/coupons/active`

**Response:**
```json
{
  "success": true,
  "coupons": [
    {
      "_id": "coupon_id",
      "code": "DISCOUNT10",
      "type": "percentage",
      "value": 10,
      "description": "Ø®ØµÙ… 10% Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",
      "minOrderAmount": 100,
      "maxDiscount": 50,
      "expiryDate": "2025-12-31T23:59:59.000Z"
    }
  ]
}
```

---

### 7.2 Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙˆØ¨ÙˆÙ†
**POST** `/coupons/validate`

**Body:**
```json
{
  "code": "DISCOUNT10"
}
```

**Response:**
```json
{
  "success": true,
  "coupon": {
    "code": "DISCOUNT10",
    "type": "percentage",
    "value": 10,
    "valid": true,
    "message": "Ø§Ù„ÙƒÙˆØ¨ÙˆÙ† ØµØ§Ù„Ø­ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…"
  }
}
```

---

## ğŸ’¬ 8. Ø§Ù„Ø¯Ø¹Ù… (Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©)

### 8.1 Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø­Ø§Ø¯Ø«ØªÙŠ
**GET** `/chat/my-chat`

**Headers:**
```
Authorization: Bearer {token}
```

**Response:**
```json
{
  "success": true,
  "chat": {
    "_id": "chat_id",
    "messages": [
      {
        "_id": "msg_id_1",
        "sender": "customer",
        "senderName": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
        "message": "Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ Ø·Ù„Ø¨ÙŠ",
        "timestamp": "2025-01-09T10:00:00.000Z",
        "read": true
      },
      {
        "_id": "msg_id_2",
        "sender": "admin",
        "senderName": "ÙØ±ÙŠÙ‚ Ø§Ù„Ø¯Ø¹Ù…",
        "message": "Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ",
        "timestamp": "2025-01-09T10:01:00.000Z",
        "read": true
      }
    ],
    "status": "open",
    "unreadCount": 0
  }
}
```

---

### 8.2 Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
**POST** `/chat/send`

**Headers:**
```
Authorization: Bearer {token}
```

**Body:**
```json
{
  "chatId": "chat_id",
  "message": "Ø·Ù„Ø¨ÙŠ Ø±Ù‚Ù… ORD-2025-001 Ù„Ù… ÙŠØµÙ„ Ø¨Ø¹Ø¯"
}
```

**Response:**
```json
{
  "success": true,
  "message": "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­"
}
```

---

## ğŸ“ 9. Ø§Ù„ØªÙˆØ§ØµÙ„

### 9.1 Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ØªÙˆØ§ØµÙ„
**POST** `/contact`

**Body:**
```json
{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
  "email": "ahmed@example.com",
  "phone": "777123456",
  "subject": "Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø´Ø­Ù†",
  "message": "Ø£Ø±ÙŠØ¯ Ù…Ø¹Ø±ÙØ© ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù† Ø¥Ù„Ù‰ Ø¹Ø¯Ù†"
}
```

**Response:**
```json
{
  "success": true,
  "message": "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­. Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹"
}
```

---

## âš ï¸ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ØªÙØ±Ø¬Ø¹ Ø¨Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:

```json
{
  "success": false,
  "message": "Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©"
}
```

### HTTP Status Codes:
- `200` - Ù†Ø¬Ø§Ø­
- `201` - ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­
- `400` - Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø³Ù„Ø©
- `401` - ØºÙŠØ± Ù…ØµØ±Ø­ (ÙŠØ­ØªØ§Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„)
- `403` - Ù…Ù…Ù†ÙˆØ¹ (Ù„Ø§ ÙŠÙ…Ù„Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª)
- `404` - ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯
- `500` - Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±

---

## ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù†

1. **Ø§Ø­ÙØ¸ Ø§Ù„Ù€ Token Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†:**
   - Ø§Ø³ØªØ®Ø¯Ù… AsyncStorage Ø£Ùˆ SecureStore
   - Ù„Ø§ ØªØ´Ø§Ø±Ùƒ Ø§Ù„Ù€ Token Ù…Ø¹ Ø£ÙŠ Ø´Ø®Øµ

2. **Ø§Ø³ØªØ®Ø¯Ù… HTTPS ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬**

3. **Ù„Ø§ ØªØ­ÙØ¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚**

4. **ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù€ Token:**
   - Ø§Ù„Ù€ Token ØµØ§Ù„Ø­ Ù„Ù…Ø¯Ø© 30 ÙŠÙˆÙ…
   - Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØªÙ‡ØŒ Ø§Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰

---

## ğŸ“± Ù…Ø«Ø§Ù„ ÙƒÙˆØ¯ React Native

```javascript
import AsyncStorage from '@react-native-async-storage/async-storage';

// Ù„Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (ØªØ£ÙƒØ¯ Ø£Ù† Ø§Ù„Ø¬ÙˆØ§Ù„ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø´Ø¨ÙƒØ©)
const API_URL = 'http://192.168.1.111:5000/api';

// Ù„Ù„Ù…Ø­Ø§ÙƒÙŠ Android
// const API_URL = 'http://10.0.2.2:5000/api';

// Ù„Ù„Ù…Ø­Ø§ÙƒÙŠ iOS
// const API_URL = 'http://localhost:5000/api';

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
export const login = async (email, password) => {
  try {
    const response = await fetch(`${API_URL}/auth/login`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ email, password }),
    });
    
    const data = await response.json();
    
    if (data.success) {
      await AsyncStorage.setItem('token', data.token);
      await AsyncStorage.setItem('user', JSON.stringify(data.user));
      return data;
    } else {
      throw new Error(data.message);
    }
  } catch (error) {
    throw error;
  }
};

// Ø¬Ù„Ø¨ Ø§Ù„Ø³Ù„Ø©
export const getCart = async () => {
  try {
    const token = await AsyncStorage.getItem('token');
    
    const response = await fetch(`${API_URL}/cart`, {
      headers: {
        'Authorization': `Bearer ${token}`,
      },
    });
    
    const data = await response.json();
    
    if (data.success) {
      return data.cart;
    } else {
      throw new Error(data.message);
    }
  } catch (error) {
    throw error;
  }
};

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©
export const addToCart = async (url, quantity = 1, options = {}) => {
  try {
    const token = await AsyncStorage.getItem('token');
    
    const response = await fetch(`${API_URL}/cart/fetch-and-add`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ url, quantity, options }),
    });
    
    const data = await response.json();
    
    if (data.success) {
      return data.cart;
    } else {
      throw new Error(data.message);
    }
  } catch (error) {
    throw error;
  }
};
```

---

## âœ… Checklist Ù„Ù„Ù…Ø·ÙˆØ±

- [ ] ÙÙ‡Ù…Øª Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Login/Register)
- [ ] Ø¬Ø±Ø¨Øª Ø¬Ù„Ø¨ Ù…Ù†ØªØ¬ Ù…Ù† Ø±Ø§Ø¨Ø·
- [ ] Ø¬Ø±Ø¨Øª Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©
- [ ] Ø¬Ø±Ø¨Øª Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©
- [ ] Ø¬Ø±Ø¨Øª Ø¥ØªÙ…Ø§Ù… Ø·Ù„Ø¨
- [ ] Ø¬Ø±Ø¨Øª Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- [ ] Ø¬Ø±Ø¨Øª ØªØªØ¨Ø¹ Ø·Ù„Ø¨
- [ ] Ø¬Ø±Ø¨Øª Ø§Ù„Ù…Ø­ÙØ¸Ø©
- [ ] Ø¬Ø±Ø¨Øª Ù†Ù‚Ø§Ø· Ø§Ù„Ø¨ÙŠØ¹
- [ ] Ø¬Ø±Ø¨Øª Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
- [ ] Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¨Ø¯Ø¡! ğŸš€

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 9 ÙŠÙ†Ø§ÙŠØ± 2025
