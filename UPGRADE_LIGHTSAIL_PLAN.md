# ๐ ุชุฑููุฉ ุฎุทุฉ AWS Lightsail

## ๐ ุงููุดููุฉ:
- โ ุงููุณุงุญุฉ ุงูุญุงููุฉ: 20GB SSD
- โ ุงููุณุงุญุฉ ููุชูุฆุฉ ุฃู ูุฑูุจุฉ ูู ุงูุงูุชูุงุก
- โ ุชุญุชุงุฌ ูุณุงุญุฉ ุฃูุจุฑ

---

## โ ุงูุญู: ุชุฑููุฉ ุงูุฎุทุฉ

### ุงูุฎุทุท ุงููุชุงุญุฉ:

| ุงูุฎุทุฉ | RAM | CPU | ุงููุณุงุญุฉ | ุงูุณุนุฑ | ุงูุชูุตูุฉ |
|-------|-----|-----|---------|-------|---------|
| ุงูุญุงููุฉ | 512MB | 1 vCPU | 20GB | $3.50 | โ ููุชูุฆุฉ |
| **$5** | **1GB** | **1 vCPU** | **40GB** | **$5** | โ **ููุตู ุจู** |
| $10 | 2GB | 1 vCPU | 60GB | $10 | โญ ูููุดุงุฑูุน ุงููุจูุฑุฉ |
| $20 | 4GB | 2 vCPU | 80GB | $20 | โญโญ ูููุดุงุฑูุน ุงูุถุฎูุฉ |

---

## ๐ฏ ุงูุชูุตูุฉ: ุฎุทุฉ $5/ุดูุฑ

### ุงููููุฒุงุช:
- โ **ุถุนู ุงููุณุงุญุฉ:** 20GB โ 40GB
- โ **ุถุนู ุงูุฐุงูุฑุฉ:** 512MB โ 1GB
- โ **ุฃุฏุงุก ุฃูุถู:** ุชุทุจูู ุฃุณุฑุน
- โ **ุฒูุงุฏุฉ ุจุณูุทุฉ:** +$1.50 ููุท

### ูุชู ุชุญุชุงุฌ ุฃูุซุฑุ
- ุฅุฐุง ูุงู ุนูุฏู **ูููุงุช ูุซูุฑุฉ** (ุตูุฑุ ููุฏูููุงุช)
- ุฅุฐุง ูุงู ุนูุฏู **logs ูุจูุฑุฉ**
- ุฅุฐุง ูุงู ุนูุฏู **database ูุญููุฉ**
- ุฅุฐุง ูุงู ุนูุฏู **backups ูุซูุฑุฉ**

---

## ๐ ุฎุทูุงุช ุงูุชุฑููุฉ (ุงูุทุฑููุฉ ุงูุณููุฉ):

### 1๏ธโฃ ุฃุฎุฐ Snapshot (ูุณุฎุฉ ุงุญุชูุงุทูุฉ) โ๏ธ ููู ุฌุฏุงู!

```bash
# ูู AWS Lightsail Console:
1. ุงุฐูุจ ุฅูู: https://lightsail.aws.amazon.com/
2. ุงุฎุชุฑ instance ุงูุฎุงุต ุจู (oliviaship-backend)
3. ุงุถุบุท ุนูู "Snapshots" tab
4. ุงุถุบุท "Create snapshot"
5. ุงุณู ุงูู Snapshot: "before-upgrade-$(date +%Y%m%d)"
6. ุงูุชุธุฑ ุญุชู ููุชูู (5-10 ุฏูุงุฆู)
```

### 2๏ธโฃ ุชุฑููุฉ ุงูุฎุทุฉ

```bash
# ูู AWS Lightsail Console:
1. ุงุฑุฌุน ูุตูุญุฉ Instance ุงูุฑุฆูุณูุฉ
2. ุงุถุบุท ุนูู ุงูููุงุท ุงูุซูุงุซ (โฎ) ุฃู "Manage"
3. ุงุฎุชุฑ "Change plan" ุฃู "Upgrade"
4. ุงุฎุชุฑ ุงูุฎุทุฉ ุงูุฌุฏูุฏุฉ: $5/month (1GB RAM, 40GB SSD)
5. ุงุถุบุท "Change plan"
6. ุงูุชุธุฑ ุญุชู ุชูุชูู ุงูุชุฑููุฉ (5-10 ุฏูุงุฆู)
```

### 3๏ธโฃ ุงูุชุญูู ูู ุงูุชุฑููุฉ

```bash
# SSH ุฅูู ุงูุณูุฑูุฑ:
ssh -i your-key.pem ubuntu@YOUR_IP

# ุชุญูู ูู ุงููุณุงุญุฉ ุงูุฌุฏูุฏุฉ:
df -h /

# ูุฌุจ ุฃู ุชุดูู:
# Filesystem      Size  Used Avail Use% Mounted on
# /dev/xvda1       40G   5G   35G  13% /

# ุชุญูู ูู ุงูุฐุงูุฑุฉ:
free -h

# ูุฌุจ ุฃู ุชุดูู:
#               total        used        free
# Mem:          1.0Gi       400Mi       600Mi
```

### 4๏ธโฃ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู (ุงุฎุชูุงุฑู)

```bash
# ุฅุนุงุฏุฉ ุชุดุบูู PM2:
pm2 restart all

# ุชุญูู ูู ุงูุญุงูุฉ:
pm2 status
pm2 logs
```

---

## ๐ง ุงูุทุฑููุฉ ุงูุจุฏููุฉ: Instance ุฌุฏูุฏ (ุงูุฃูุถู)

### ููุงุฐุง ูุฐู ุงูุทุฑููุฉ ุฃูุถูุ
- โ ูุง downtime
- โ ูููู ุงูุฑุฌูุน ูููุฏูู ุจุณูููุฉ
- โ ุงุฎุชุจุงุฑ ูุจู ุงูุญุฐู

### ุงูุฎุทูุงุช:

#### 1๏ธโฃ ุฃุฎุฐ Snapshot
```bash
# ููุณ ุงูุฎุทูุฉ ุงูุณุงุจูุฉ
```

#### 2๏ธโฃ ุฅูุดุงุก Instance ุฌุฏูุฏ ูู Snapshot
```bash
1. ูู Lightsail Console
2. ุงุฐูุจ ุฅูู "Snapshots"
3. ุงุฎุชุฑ ุงูู Snapshot ุงูุฐู ุฃุฎุฐุชู
4. ุงุถุบุท "Create new instance"
5. ุงุฎุชุฑ:
   - Region: Bahrain (me-south-1)
   - Plan: $5/month (1GB RAM, 40GB SSD)
   - Name: oliviaship-backend-v2
6. ุงุถุบุท "Create instance"
7. ุงูุชุธุฑ ุญุชู ูุตุจุญ "Running"
```

#### 3๏ธโฃ ููู Static IP
```bash
1. ูู Lightsail Console
2. ุงุฐูุจ ุฅูู "Networking" tab
3. ุงุฎุชุฑ Static IP ุงูุญุงูู
4. ุงุถุบุท "Detach"
5. ุงุถุบุท "Attach to instance"
6. ุงุฎุชุฑ Instance ุงูุฌุฏูุฏ (oliviaship-backend-v2)
7. ุงุถุบุท "Attach"
```

#### 4๏ธโฃ ุงุฎุชุจุงุฑ Instance ุงูุฌุฏูุฏ
```bash
# ุงุฎุชุจุฑ API:
curl http://YOUR_IP:5000/api/health

# ูุฌุจ ุฃู ูุฑุฌุน:
# {"status":"ok","timestamp":"..."}
```

#### 5๏ธโฃ ุญุฐู Instance ุงููุฏูู
```bash
1. ูู Lightsail Console
2. ุงุฎุชุฑ Instance ุงููุฏูู (oliviaship-backend)
3. ุงุถุบุท "Delete"
4. ุชุฃูุฏ ูู ุงูุญุฐู
```

---

## ๐งน ุชูุธูู ุงููุณุงุญุฉ ูุจู ุงูุชุฑููุฉ (ุงุฎุชูุงุฑู)

### ุฅุฐุง ุชุจุบู ุชููุฑ ูุณุงุญุฉ ูุจู ุงูุชุฑููุฉ:

```bash
# SSH ุฅูู ุงูุณูุฑูุฑ:
ssh -i your-key.pem ubuntu@YOUR_IP

# 1. ุญุฐู node_modules ุงููุฏููุฉ:
find . -name "node_modules" -type d -prune -exec rm -rf {} \;
npm install

# 2. ุชูุธูู npm cache:
npm cache clean --force

# 3. ุญุฐู logs ุงููุฏููุฉ:
pm2 flush
sudo journalctl --vacuum-time=7d

# 4. ุญุฐู ูููุงุช ูุคูุชุฉ:
sudo apt clean
sudo apt autoremove -y

# 5. ุญุฐู Docker (ุฅู ูุฌุฏ):
docker system prune -a -f

# 6. ุชุญูู ูู ุงููุณุงุญุฉ:
df -h /
```

---

## ๐ ูุญุต ุงููุณุงุญุฉ ุงููุณุชุฎุฏูุฉ

### ุงุณุชุฎุฏู ุงูุณูุฑูุจุช ุงููุฑูู:

```bash
# ูู ุงูุณูุฑูุฑ:
chmod +x check-disk-space.sh
./check-disk-space.sh
```

### ุฃู ูุฏููุงู:

```bash
# ุงููุณุงุญุฉ ุงููููุฉ:
df -h /

# ุฃูุจุฑ ุงููุฌูุฏุงุช:
sudo du -h --max-depth=1 / | sort -hr | head -20

# ุญุฌู ุงููุดุฑูุน:
du -sh ~/oliviaship-2025

# ุญุฌู node_modules:
du -sh ~/oliviaship-2025/node_modules

# ุญุฌู logs:
du -sh /var/log
pm2 logs --lines 0
```

---

## ๐ฐ ููุงุฑูุฉ ุงูุชูููุฉ:

| ุงูุฎุทุฉ | ุดูุฑู | ุณููู | ุงููุฑู |
|-------|------|------|-------|
| ุงูุญุงููุฉ ($3.50) | $3.50 | $42 | - |
| **$5** | **$5** | **$60** | **+$18/ุณูุฉ** |
| $10 | $10 | $120 | +$78/ุณูุฉ |
| $20 | $20 | $240 | +$198/ุณูุฉ |

### ุงูุชูุตูุฉ:
**ุฎุทุฉ $5** - ุฒูุงุฏุฉ ุจุณูุทุฉ ($1.50/ุดูุฑ) ููุงุจู ุถุนู ุงููุณุงุญุฉ ูุงูุฐุงูุฑุฉ

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ:

### ูุจู ุงูุชุฑููุฉ:
1. โ **ุฎุฐ Snapshot** - ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูููุฉ ุฌุฏุงู!
2. โ **ุงุฎุชุจุฑ ุงูุชุทุจูู** - ุชุฃูุฏ ุฃูู ูุนูู
3. โ **ุงุญูุธ .env** - ูุณุฎุฉ ูู ุงููุชุบูุฑุงุช

### ุจุนุฏ ุงูุชุฑููุฉ:
1. โ **ุชุญูู ูู ุงููุณุงุญุฉ** - `df -h /`
2. โ **ุชุญูู ูู ุงูุฐุงูุฑุฉ** - `free -h`
3. โ **ุงุฎุชุจุฑ API** - `curl http://YOUR_IP:5000/api/health`
4. โ **ุฑุงูุจ ุงูุฃุฏุงุก** - `pm2 monit`

### ุฅุฐุง ุญุตูุช ูุดููุฉ:
1. ุงุฑุฌุน ููู Snapshot ุงููุฏูู
2. ุฃูุดุฆ Instance ุฌุฏูุฏ ูู ุงูู Snapshot
3. ุงููู Static IP
4. ุงุชุตู ุจุงูุฏุนู

---

## ๐ฏ ุงูุฎูุงุตุฉ:

### ุงููุดููุฉ:
- ุงููุณุงุญุฉ ุงูุญุงููุฉ: 20GB (ููุชูุฆุฉ)

### ุงูุญู:
- ุชุฑููุฉ ุฅูู ุฎุทุฉ $5/ุดูุฑ (40GB)

### ุงูุฎุทูุงุช:
1. ุฎุฐ Snapshot (ูุณุฎุฉ ุงุญุชูุงุทูุฉ)
2. ุฑูู ุงูุฎุทุฉ ุฃู ุฃูุดุฆ Instance ุฌุฏูุฏ
3. ุชุญูู ูู ุงููุณุงุญุฉ ุงูุฌุฏูุฏุฉ
4. ุงุฎุชุจุฑ ุงูุชุทุจูู

### ุงูุชูููุฉ:
- ุฒูุงุฏุฉ $1.50/ุดูุฑ ููุท
- ุถุนู ุงููุณุงุญุฉ ูุงูุฐุงูุฑุฉ

### ุงูููุช:
- 15-20 ุฏูููุฉ

---

## ๐ ุฌุงูุฒ ููุชุฑููุฉุ

ูู ูู:
1. **"ุฑูู ุงูุขู"** - ุณุฃุณุงุนุฏู ุฎุทูุฉ ุจุฎุทูุฉ
2. **"ูุญุต ุงููุณุงุญุฉ ุฃููุงู"** - ูุดูู ูู ูุณุชุฎุฏู
3. **"ูุธู ุงููุณุงุญุฉ"** - ูุญุฐู ุงููููุงุช ุบูุฑ ุงููููุฉ

**ุฃูุง ุฌุงูุฒ! ๐ฅ**
